# ==================================================
# 足球预测系统生产环境配置模板
#
# 使用说明：
# 1. 复制此文件为 .env.production
# 2. 替换所有占位符为实际值
# 3. 确保所有密码都是强密码（至少16位）
# 4. 部署前进行安全审查
# ==================================================

# 应用环境设置
ENVIRONMENT=production
DEBUG=false
SECRET_KEY=YOUR_SECRET_KEY_HERE_MIN_32_CHARS
LOG_LEVEL=WARNING

# ==================================================
# 数据库配置
# ==================================================
# 主数据库配置
DB_HOST=localhost
DB_PORT=5432
DB_NAME=football_prediction_prod
DB_USER=football_user
DB_PASSWORD=YOUR_DB_PASSWORD_HERE_MIN_16_CHARS

# PostgreSQL根用户密码（用于初始化）
POSTGRES_ROOT_PASSWORD=YOUR_POSTGRES_ROOT_PASSWORD_HERE_MIN_16_CHARS
POSTGRES_DB=football_prediction_prod
POSTGRES_USER=football_user
POSTGRES_PASSWORD=YOUR_POSTGRES_PASSWORD_HERE_MIN_16_CHARS

# 数据库只读用户
DB_READER_USER=football_reader
DB_READER_PASSWORD=YOUR_DB_READER_PASSWORD_HERE_MIN_16_CHARS

# 数据库读写用户
DB_WRITER_USER=football_writer
DB_WRITER_PASSWORD=YOUR_DB_WRITER_PASSWORD_HERE_MIN_16_CHARS

# 数据库管理员用户
DB_ADMIN_USER=football_admin
DB_ADMIN_PASSWORD=YOUR_DB_ADMIN_PASSWORD_HERE_MIN_16_CHARS

# 应用数据库用户
APP_DB_USER=football_user
APP_DB_PASSWORD=YOUR_APP_DB_PASSWORD_HERE_MIN_16_CHARS
APP_DB_NAME=football_prediction_prod

# ==================================================
# Redis 配置
# ==================================================
REDIS_PASSWORD=YOUR_REDIS_PASSWORD_HERE_MIN_16_CHARS
REDIS_URL=redis://:YOUR_REDIS_PASSWORD_HERE_MIN_16_CHARS@redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379

# ==================================================
# MinIO 对象存储配置
# ==================================================
MINIO_ROOT_USER=football_minio_admin
MINIO_ROOT_PASSWORD=YOUR_MINIO_ROOT_PASSWORD_HERE_MIN_16_CHARS
MINIO_ENDPOINT=http://localhost:9000
MINIO_REGION=us-east-1

# AWS配置（用于MinIO/S3集成）
AWS_ACCESS_KEY_ID=football_minio_admin
AWS_SECRET_ACCESS_KEY=YOUR_MINIO_ROOT_PASSWORD_HERE_MIN_16_CHARS
AWS_DEFAULT_REGION=us-east-1
AWS_S3_ENDPOINT_URL=http://localhost:9000

# ==================================================
# MLflow 配置
# ==================================================
MLFLOW_TRACKING_URI=http://localhost:5002
MLFLOW_REGISTRY_URI=http://mlflow:5000
MLFLOW_EXPERIMENT_NAME=football_prediction
MLFLOW_S3_ENDPOINT_URL=http://localhost:9000
MLFLOW_DEFAULT_ARTIFACT_ROOT=s3://football-models/mlflow-artifacts
MLFLOW_BACKEND_STORE_URI=postgresql://mlflow_user:YOUR_MLFLOW_DB_PASSWORD_HERE_MIN_16_CHARS@localhost:5434/mlflow

# MLflow数据库配置
MLFLOW_DB_USER=mlflow_user
MLFLOW_DB_PASSWORD=YOUR_MLFLOW_DB_PASSWORD_HERE_MIN_16_CHARS
MLFLOW_DB_NAME=mlflow

# ==================================================
# Marquez 数据血缘管理配置
# ==================================================
MARQUEZ_DB_HOST=localhost
MARQUEZ_DB_PORT=5433
MARQUEZ_DB_NAME=marquez
MARQUEZ_DB_USER=marquez_user
MARQUEZ_DB_PASSWORD=YOUR_MARQUEZ_DB_PASSWORD_HERE_MIN_16_CHARS

# ==================================================
# Kafka 流处理配置
# ==================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_ZOOKEEPER_CONNECT=localhost:2181

# ==================================================
# 监控系统配置
# ==================================================
GRAFANA_ADMIN_PASSWORD=YOUR_GRAFANA_ADMIN_PASSWORD_HERE_MIN_16_CHARS
GF_SECURITY_ADMIN_PASSWORD=YOUR_GRAFANA_ADMIN_PASSWORD_HERE_MIN_16_CHARS
PGADMIN_DEFAULT_PASSWORD=YOUR_PGADMIN_PASSWORD_HERE_MIN_16_CHARS

# ==================================================
# 应用安全配置
# ==================================================
JWT_SECRET_KEY=YOUR_JWT_SECRET_KEY_HERE_MIN_32_CHARS
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# API密钥配置
API_FOOTBALL_KEY=YOUR_API_FOOTBALL_KEY_HERE

# ==================================================
# Celery 配置
# ==================================================
CELERY_BROKER_URL=redis://:YOUR_REDIS_PASSWORD_HERE_MIN_16_CHARS@redis:6379/0
CELERY_RESULT_BACKEND=redis://:YOUR_REDIS_PASSWORD_HERE_MIN_16_CHARS@redis:6379/0

# ==================================================
# Web 服务配置
# ==================================================
API_HOST=0.0.0.0
API_PORT=8000
WORKERS=4
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# ==================================================
# CORS 配置
# ==================================================
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# ==================================================
# 缓存配置
# ==================================================
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ==================================================
# 速率限制配置
# ==================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ==================================================
# 安全配置
# ==================================================
SSL_CERT_FILE=/path/to/your/cert.pem
SSL_KEY_FILE=/path/to/your/key.pem
FORCE_HTTPS=true

# ==================================================
# 日志配置
# ==================================================
LOG_FORMAT=json
LOG_LEVEL=WARNING
LOG_FILE=/var/log/football_prediction/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# ==================================================
# 健康检查配置
# ==================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# ==================================================
# 性能监控配置
# ==================================================
ENABLE_METRICS=true
METRICS_PORT=8080

# ==================================================
# 备份配置
# ==================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # 每天凌晨2点
BACKUP_RETENTION_DAYS=30

# ==================================================
# 数据质量监控配置
# ==================================================
DATA_QUALITY_ENABLED=true
DATA_QUALITY_CHECK_INTERVAL=3600

# ==================================================
# 告警配置
# ==================================================
ALERT_ENABLED=true
ALERT_WEBHOOK_URL=YOUR_ALERT_WEBHOOK_URL_HERE
ALERT_EMAIL_RECIPIENTS=your-email@example.com

# ==================================================
# 生产环境特有配置
# ==================================================
PRODUCTION_MODE=true
MAINTENANCE_MODE=false
DEPLOYMENT_VERSION=1.0.0

# 警告：此文件包含敏感信息，请勿提交到版本控制系统！
# 安全提示：
# 1. 所有密码必须至少16个字符
# 2. 使用不同的密码对于不同的服务
# 3. 定期更换密码
# 4. 使用密码管理器生成强密码
# 5. 启用两步验证（如适用）
