# Makefile ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

é¡¹ç›®ç°åœ¨æœ‰ä¸¤ä¸ª Makefileï¼š

- **`Makefile`** (ä¸»æ–‡ä»¶) - åŒ…å«æ ¸å¿ƒçš„30ä¸ªå¸¸ç”¨å‘½ä»¤
- **`Makefile.full`** - åŒ…å«æ‰€æœ‰86ä¸ªå‘½ä»¤ï¼ˆå®Œæ•´ç‰ˆï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ—¥å¸¸å¼€å‘
```bash
# é¦–æ¬¡ä½¿ç”¨
make install      # å®‰è£…ä¾èµ–
make env-check    # æ£€æŸ¥ç¯å¢ƒ
make up           # å¯åŠ¨DockeræœåŠ¡

# æ—¥å¸¸å¼€å‘
make dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
make test-quick   # å¿«é€Ÿæµ‹è¯•
make fmt          # æ ¼å¼åŒ–ä»£ç 
make lint         # ä»£ç æ£€æŸ¥

# æäº¤å‰
make prepush      # å®Œæ•´æ£€æŸ¥ï¼ˆæ ¼å¼åŒ–+æ£€æŸ¥+æµ‹è¯•ï¼‰
```

### å¿«æ·å‘½ä»¤
```bash
make quickstart   # ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ
make health       # é¡¹ç›®å¥åº·æ£€æŸ¥
make test-all     # å®Œæ•´æµ‹è¯•æµç¨‹
make clean        # æ¸…ç†é¡¹ç›®
```

## ğŸ“Š å¯¹æ¯”

| é¡¹ç›® | Makefile.core | Makefile.full |
|------|---------------|---------------|
| å‘½ä»¤æ•° | 30 | 86 |
| è¡Œæ•° | ~200 | 794 |
| é€‚ç”¨åœºæ™¯ | æ—¥å¸¸å¼€å‘ | ç‰¹æ®Šéœ€æ±‚ |

## ğŸ”§ ä½¿ç”¨å®Œæ•´ç‰ˆ

éœ€è¦ä½¿ç”¨å®Œæ•´ç‰ˆæ—¶ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
make -f Makefile.full help

# ä½¿ç”¨ç‰¹å®šå‘½ä»¤
make -f Makefile.full mutation-test
make -f Makefile.full performance-report
```

## ğŸ“ å‘½ä»¤åˆ†ç±»

### ç¯å¢ƒç®¡ç† (3ä¸ª)
- `install` - å®‰è£…ä¾èµ–
- `env-check` - ç¯å¢ƒæ£€æŸ¥
- `venv` - åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

### å¼€å‘æ—¥å¸¸ (6ä¸ª)
- `dev` - å¯åŠ¨å¼€å‘æœåŠ¡å™¨
- `test` - è¿è¡Œæµ‹è¯•
- `test-quick` - å¿«é€Ÿæµ‹è¯•
- `lint` - ä»£ç æ£€æŸ¥
- `fmt` - ä»£ç æ ¼å¼åŒ–
- `clean` - æ¸…ç†é¡¹ç›®

### è´¨é‡ä¿è¯ (4ä¸ª)
- `coverage` - ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
- `prepush` - æäº¤å‰æ£€æŸ¥
- `ci` - å®Œæ•´CIæ£€æŸ¥
- `health` - é¡¹ç›®å¥åº·æ£€æŸ¥

### Docker (3ä¸ª)
- `up` - å¯åŠ¨æœåŠ¡
- `down` - åœæ­¢æœåŠ¡
- `docker-build` - æ„å»ºé•œåƒ

### æ•°æ®åº“ (2ä¸ª)
- `db-init` - åˆå§‹åŒ–æ•°æ®åº“
- `db-migrate` - è¿è¡Œè¿ç§»

### å…¶ä»– (2ä¸ª)
- `docs` - ç”Ÿæˆæ–‡æ¡£
- `help` - æ˜¾ç¤ºå¸®åŠ©

## ğŸ’¡ æœ€ä½³å®è·µ

1. **æ—¥å¸¸å¼€å‘**ä½¿ç”¨æ ¸å¿ƒå‘½ä»¤
2. **ç‰¹æ®Šéœ€æ±‚**æ‰ä½¿ç”¨å®Œæ•´ç‰ˆ
3. **æäº¤å‰**å¿…é¡»è¿è¡Œ `make prepush`
4. **å®šæœŸæ¸…ç†**è¿è¡Œ `make clean`

## ğŸ”„ è¿ç§»å»ºè®®

å¦‚æœä½ ä¹ æƒ¯ä½¿ç”¨æŸäº›å®Œæ•´ç‰ˆå‘½ä»¤ï¼š
```bash
# åˆ›å»ºä¸ªäººåˆ«åï¼ˆåœ¨ ~/.bashrc æˆ– ~/.zshrcï¼‰
alias makefull='make -f Makefile.full'

# æˆ–è€…åˆ›å»ºç¬¦å·é“¾æ¥
ln -s Makefile.full Makefile.advanced
```

## â“ å¸¸è§é—®é¢˜

**Q: æŸä¸ªå‘½ä»¤æ‰¾ä¸åˆ°äº†ï¼Ÿ**
A: ä½¿ç”¨ `make -f Makefile.full <command>`

**Q: å¦‚ä½•æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤ï¼Ÿ**
A: è¿è¡Œ `make help` æˆ– `make -f Makefile.full help`

**Q: å¯ä»¥æ·»åŠ æ–°å‘½ä»¤å—ï¼Ÿ**
A: å»ºè®®å…ˆæ·»åŠ åˆ° Makefile.fullï¼Œç¡®è®¤å¸¸ç”¨åå†ç§»åˆ° Makefile.core