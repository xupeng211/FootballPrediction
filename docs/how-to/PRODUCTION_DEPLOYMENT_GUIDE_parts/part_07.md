=============================================================================#
#缓存操作
缓存操作#
#=============================================================================

=============================================================================
#
#连接到Redis
docker exec -it football_prediction_redis redis-cli

连接到Redis
docker exec -it football_prediction_redis redis-cli
#
#查看缓存统计
docker exec football_prediction_redis redis-cli info

查看缓存统计
docker exec football_prediction_redis redis-cli info
#
#清空缓存
docker exec football_prediction_redis redis-cli flushdb

清空缓存
docker exec football_prediction_redis redis-cli flushdb
#
#=============================================================================
=============================================================================#
#监控命令
监控命令#
#=============================================================================

=============================================================================
#
#查看Prometheus目标状态
curl -s http://localhost:9090/api/v1/targets | jq

查看Prometheus目标状态
curl -s http://localhost:9090/api/v1/targets | jq
#
#查看告警状态
curl -s http://localhost:9093/api/v1/alerts | jq

查看告警状态
curl -s http://localhost:9093/api/v1/alerts | jq
#
#重载Prometheus配置
curl -X POST http://localhost:9090/-/reload

重载Prometheus配置
curl -X POST http://localhost:9090/-/reload
#
#重载AlertManager配置
curl -X POST http://localhost:9093/-/reload
```

#### 🔄 扩缩容命令

```bash
重载AlertManager配置
curl -X POST http://localhost:9093/-/reload
```

#### 🔄 扩缩容命令

```bash#
#=============================================================================
=============================================================================#
#Docker Compose 扩缩容
Docker Compose 扩缩容#
#=============================================================================

=============================================================================
#
#扩容应用服务
docker-compose up -d --scale app=3

扩容应用服务
docker-compose up -d --scale app=3
#
#扩容工作节点
docker-compose up -d --scale celery-worker=2

扩容工作节点
docker-compose up -d --scale celery-worker=2
#
#缩容服务
docker-compose up -d --scale app=1

缩容服务
docker-compose up -d --scale app=1
#
#查看扩容状态
docker-compose ps

查看扩容状态
docker-compose ps
#
#=============================================================================
=============================================================================#
#Kubernetes 扩缩容
Kubernetes 扩缩容#
#=============================================================================

=============================================================================
#
#水平扩容应用
kubectl autoscale deployment football-prediction --min=2 --max=10 --cpu-percent=70

水平扩容应用
kubectl autoscale deployment football-prediction --min=2 --max=10 --cpu-percent=70
#
#手动扩容
kubectl scale deployment football-prediction --replicas=5

手动扩容
kubectl scale deployment football-prediction --replicas=5
#
#查看扩容状态
kubectl get hpa
kubectl get deployments

查看扩容状态
kubectl get hpa
kubectl get deployments
#
#=============================================================================
=============================================================================#
#负载测试扩容
负载测试扩容#
#=============================================================================

=============================================================================
#
#启动负载测试
kubectl apply -f k8s/loadtest/locust-deployment.yaml

启动负载测试
kubectl apply -f k8s/loadtest/locust-deployment.yaml
#
#监控扩容效果
kubectl get hpa -w
kubectl get pods -w

监控扩容效果
kubectl get hpa -w
kubectl get pods -w
#
#停止负载测试
kubectl delete deployment locust
```

停止负载测试
kubectl delete deployment locust
```
###
###C. 联系人/责任人清单

| 角色 | 姓名 | 联系方式 | 职责范围 |
|------|------|---------|---------|
| **技术负责人** | [待填写] | [待填写] | 技术决策和架构设计 |
| **运维负责人** | [待填写] | [待填写] | 生产环境部署和维护 |
| **开发负责人** | [待填写] | [待填写] | 应用开发和bug修复 |
| **数据库管理员** | [待填写] | [待填写] | 数据库管理和优化 |
| **安全负责人** | [待填写] | [待填写] | 安全配置和审计 |
| **测试负责人** | [待填写] | [待填写] | 测试和质量保证 |

C. 联系人/责任人清单

| 角色 | 姓名 | 联系方式 | 职责范围 |
|------|------|---------|---------|
| **技术负责人** | [待填写] | [待填写] | 技术决策和架构设计 |
| **运维负责人** | [待填写] | [待填写] | 生产环境部署和维护 |
| **开发负责人** | [待填写] | [待填写] | 应用开发和bug修复 |
| **数据库管理员** | [待填写] | [待填写] | 数据库管理和优化 |
| **安全负责人** | [待填写] | [待填写] | 安全配置和审计 |
| **测试负责人** | [待填写] | [待填写] | 测试和质量保证 |
###
###D. 部署检查清单模板

```markdown
D. 部署检查清单模板

```markdown#
#足球预测系统部署检查清单

足球预测系统部署检查清单
##
##部署前准备
- [ ] 代码已合并至主分支
- [ ] CI/CD流程通过
- [ ] 环境变量配置完成
- [ ] 数据库备份已创建
- [ ] 版本号已确认

部署前准备
- [ ] 代码已合并至主分支
- [ ] CI/CD流程通过
- [ ] 环境变量配置完成
- [ ] 数据库备份已创建
- [ ] 版本号已确认
##
##部署过程
- [ ] 基础设施服务启动
- [ ] 数据库服务启动
- [ ] 消息队列启动
- [ ] 应用服务启动
- [ ] 监控服务启动

部署过程
- [ ] 基础设施服务启动
- [ ] 数据库服务启动
- [ ] 消息队列启动
- [ ] 应用服务启动
- [ ] 监控服务启动
##
##部署后验证
- [ ] 服务健康检查
- [ ] 功能测试通过
- [ ] 性能测试通过
- [ ] 监控告警正常
- [ ] 日志检查正常

部署后验证
- [ ] 服务健康检查
- [ ] 功能测试通过
- [ ] 性能测试通过
- [ ] 监控告警正常
- [ ] 日志检查正常
##
##回滚准备
- [ ] 回滚脚本已准备
- [ ] 备份数据可用
- [ ] 回滚验证步骤明确

回滚准备
- [ ] 回滚脚本已准备
- [ ] 备份数据可用
- [ ] 回滚验证步骤明确
##
##部署完成确认
- [ ] 部署报告已生成
- [ ] 相关人员已通知
- [ ] 监控告警已设置
- [ ] 文档已更新
```

---

部署完成确认
- [ ] 部署报告已生成
- [ ] 相关人员已通知
- [ ] 监控告警已设置
- [ ] 文档已更新
```

---
##
##📞 紧急联系方式

在部署过程中遇到紧急问题时，请联系：

- **技术支持热线**: [待填写]
- **运维值班电话**: [待填写]
- **项目管理**: [待填写]
- **安全事件**: [待填写]

---

**文档版本**: v1.0
**最后更新**: 2025-09-25
**维护人员**: 系统运维团队

*本手册为足球预测系统生产部署的标准操作指南，请严格按照步骤执行。如有疑问，请及时联系相关负责人。*

📞 紧急联系方式

在部署过程中遇到紧急问题时，请联系：

- **技术支持热线**: [待填写]
- **运维值班电话**: [待填写]
- **项目管理**: [待填写]
- **安全事件**: [待填写]

---

**文档版本**: v1.0
**最后更新**: 2025-09-25
**维护人员**: 系统运维团队

*本手册为足球预测系统生产部署的标准操作指南，请严格按照步骤执行。如有疑问，请及时联系相关负责人。*
