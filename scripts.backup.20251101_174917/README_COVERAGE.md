# 测试覆盖率分析工具

## 快速使用

### 查看最新的完整分析报告

```bash
cat ../COVERAGE_ANALYSIS_REPORT.md
```

### 运行实时覆盖率检查

```bash
./check_coverage.sh
```

或者使用 make 命令：

```bash
make coverage
```

### 查看HTML详细报告

```bash
# 运行覆盖率测试后
open htmlcov/index.html  # macOS
xdg-open htmlcov/index.html  # Linux
```

## 报告文件说明

- `COVERAGE_ANALYSIS_REPORT.md` - 完整的深度分析报告
  - 包含详细的模块级别分析
  - 覆盖率分布统计
  - 测试质量评估
  - 改进建议和优先级

- `测试覆盖率提升看板.md` - 详细的任务看板
  - P0-P3优先级任务分类
  - 100+ 具体任务清单
  - 执行指南和测试模板
  - 进度跟踪和里程碑

## 关键指标

当前项目覆盖率：**18.12%**

### 最需要关注的模块

1. **domain/** - 0% 覆盖（2,733行）🔴 最严重
2. **features/** - 0% 覆盖（533行）🔴 关键
3. **collectors/** - 1.38% 覆盖（484行）🔴 关键

## 改进目标

- 短期（1-2月）：30% → 40%
- 中期（3-6月）：40% → 60%
- 长期（6-12月）：60% → 80%

## 分析方法

本报告通过以下方式确保准确性：

1. **实际运行pytest覆盖率测试** - 获取真实执行数据
2. **AST静态代码分析** - 分析所有源代码和测试代码
3. **交叉验证** - 测试与源代码的映射关系
4. **质量评估** - 测试代码本身的质量分析

这不是基于报告的表面分析，而是深入代码层面的实际测量。
