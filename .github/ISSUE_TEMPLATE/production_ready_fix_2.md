---
name: ðŸš¨ P0-Critical: æµ‹è¯•è¦†ç›–çŽ‡æå‡è‡³ç”Ÿäº§å°±ç»ªæ ‡å‡†
about: å°†æµ‹è¯•è¦†ç›–çŽ‡ä»Ž23%æå‡åˆ°60%+
title: '[P0-Critical] æµ‹è¯•è¦†ç›–çŽ‡æå‡ - 23% â†’ 60%+'
labels: 'critical, production-ready, test-coverage'
assignees: ''

---

## ðŸš¨ Critical Issue: æµ‹è¯•è¦†ç›–çŽ‡æå‡è‡³ç”Ÿäº§å°±ç»ªæ ‡å‡†

### ðŸ“‹ é—®é¢˜æè¿°
å½“å‰æµ‹è¯•è¦†ç›–çŽ‡ä»…ä¸º**23%**ï¼Œè¿œä½ŽäºŽç”Ÿäº§çŽ¯å¢ƒæŽ¨èçš„70%æ ‡å‡†ã€‚ä¸ºç¡®ä¿ä»£ç è´¨é‡å’Œç”Ÿäº§ç¨³å®šæ€§ï¼Œå¿…é¡»å°†è¦†ç›–çŽ‡æå‡åˆ°è‡³å°‘60%æ‰èƒ½è€ƒè™‘ä¸Šçº¿ã€‚

### ðŸ“Š å½“å‰çŠ¶å†µåˆ†æž
- **å½“å‰è¦†ç›–çŽ‡**: 23% (HTMLæŠ¥å‘Š)
- **ç›®æ ‡è¦†ç›–çŽ‡**: 60% (æœ€ä½Žç”Ÿäº§æ ‡å‡†)
- **ç†æƒ³è¦†ç›–çŽ‡**: 70%+ (æŽ¨èç”Ÿäº§æ ‡å‡†)
- **å·®è·**: éœ€è¦æå‡37%+

### ðŸŽ¯ ä¼˜å…ˆæµ‹è¯•æ¨¡å— (æŒ‰é‡è¦æ€§æŽ’åº)

#### ðŸ”¥ **å¿…é¡»è¦†ç›–çš„æ ¸å¿ƒæ¨¡å—**
1. **APIå±‚** (`src/api/`)
   - FastAPIè·¯ç”±å’Œç«¯ç‚¹
   - è¯·æ±‚éªŒè¯å’Œå“åº”å¤„ç†
   - é”™è¯¯å¤„ç†ä¸­é—´ä»¶

2. **é¢†åŸŸå±‚** (`src/domain/`)
   - ä¸šåŠ¡å®žä½“å’Œèšåˆæ ¹
   - é¢†åŸŸæœåŠ¡å’Œä¸šåŠ¡è§„åˆ™
   - é¢„æµ‹ç®—æ³•å’Œç­–ç•¥

3. **æ•°æ®åº“å±‚** (`src/database/`)
   - æ•°æ®æ¨¡åž‹å’Œæ˜ å°„
   - ä»“å‚¨æ¨¡å¼å®žçŽ°
   - æ•°æ®è®¿é—®æ“ä½œ

#### âš¡ **é‡è¦åŠŸèƒ½æ¨¡å—**
4. **æœåŠ¡å±‚** (`src/services/`)
   - æ ¸å¿ƒä¸šåŠ¡æœåŠ¡
   - å¤–éƒ¨APIé›†æˆ
   - ç¼“å­˜æœåŠ¡

5. **è®¤è¯å’Œå®‰å…¨** (`src/auth/`, `src/security/`)
   - JWTä»¤ç‰Œå¤„ç†
   - æƒé™éªŒè¯
   - å¯†ç åŠ å¯†

### ðŸ”§ å®žæ–½è®¡åˆ’

#### Phase 1: æ ¸å¿ƒAPIæµ‹è¯• (é¢„è®¡8å°æ—¶)
```bash
# é‡ç‚¹è¦†ç›–ï¼š
pytest -m "unit and api" src/api/ --cov=src/api --cov-report=term-missing
pytest -m "integration and api" tests/api/ --cov=src/api
```

#### Phase 2: é¢†åŸŸå±‚æµ‹è¯• (é¢„è®¡6å°æ—¶)
```bash
# é‡ç‚¹è¦†ç›–ï¼š
pytest -m "unit and domain" src/domain/ --cov=src/domain
pytest -m "integration and domain" tests/domain/
```

#### Phase 3: æ•°æ®åº“å±‚æµ‹è¯• (é¢„è®¡4å°æ—¶)
```bash
# é‡ç‚¹è¦†ç›–ï¼š
pytest -m "unit and database" src/database/ --cov=src/database
pytest -m "integration and database" tests/database/
```

#### Phase 4: æœåŠ¡å±‚å’Œå…¶ä»– (é¢„è®¡6å°æ—¶)
```bash
# è¡¥å……è¦†ç›–ï¼š
pytest -m "unit and services" src/services/ --cov=src/services
pytest -m "unit and not slow" tests/ --cov=src
```

### ðŸ“ˆ è¦†ç›–çŽ‡ç›®æ ‡åˆ†è§£
| æ¨¡å— | å½“å‰è¦†ç›–çŽ‡ | ç›®æ ‡è¦†ç›–çŽ‡ | å¢žé‡ |
|------|-----------|-----------|------|
| src/api/ | ~15% | 65% | +50% |
| src/domain/ | ~20% | 70% | +50% |
| src/database/ | ~25% | 75% | +50% |
| src/services/ | ~30% | 60% | +30% |
| å…¶ä»–æ¨¡å— | ~10% | 50% | +40% |

### âœ… éªŒæ”¶æ ‡å‡†
- [ ] æ•´ä½“æµ‹è¯•è¦†ç›–çŽ‡è¾¾åˆ° **60%+**
- [ ] æ ¸å¿ƒæ¨¡å— (api, domain, database) è¦†ç›–çŽ‡è¾¾åˆ° **65%+**
- [ ] æ‰€æœ‰å…³é”®ä¸šåŠ¡æµç¨‹æœ‰é›†æˆæµ‹è¯•è¦†ç›–
- [ ] æµ‹è¯•å¯ä»¥åœ¨DockerçŽ¯å¢ƒä¸­ç¨³å®šè¿è¡Œ
- [ ] CI/CD pipelineä¸­æµ‹è¯•é€šè¿‡çŽ‡100%

### ðŸ§ª æµ‹è¯•ç­–ç•¥
```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
make test

# æŸ¥çœ‹è¦†ç›–çŽ‡æŠ¥å‘Š
make coverage

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
pytest -m "unit and api" -v --cov=src/api --cov-report=html

# è¿è¡Œé›†æˆæµ‹è¯•
pytest -m "integration" -v --cov=src
```

### ðŸ“ æµ‹è¯•æ£€æŸ¥æ¸…å•
- [ ] APIç«¯ç‚¹æµ‹è¯•è¦†ç›– (GET, POST, PUT, DELETE)
- [ ] æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†æµ‹è¯•
- [ ] æ•°æ®åº“æ“ä½œæµ‹è¯• (CRUD)
- [ ] ä¸šåŠ¡é€»è¾‘å’Œç®—æ³•æµ‹è¯•
- [ ] è®¤è¯å’ŒæŽˆæƒæµ‹è¯•
- [ ] ç¼“å­˜å’Œå¤–éƒ¨æœåŠ¡é›†æˆæµ‹è¯•
- [ ] è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸æƒ…å†µæµ‹è¯•

### âš ï¸ é£Žé™©å’Œæ³¨æ„äº‹é¡¹
1. **æµ‹è¯•çŽ¯å¢ƒç¨³å®šæ€§**: ç¡®ä¿Dockeræµ‹è¯•çŽ¯å¢ƒç¨³å®š
2. **å¤–éƒ¨ä¾èµ–**: Mockå¤–éƒ¨APIè°ƒç”¨ä»¥ä¿æŒæµ‹è¯•ç‹¬ç«‹æ€§
3. **æ•°æ®åº“çŠ¶æ€**: ä½¿ç”¨æµ‹è¯•æ•°æ®åº“ï¼Œé¿å…å½±å“å¼€å‘æ•°æ®
4. **æ€§èƒ½è€ƒè™‘**: å…³æ³¨æµ‹è¯•æ‰§è¡Œæ—¶é—´ï¼Œé¿å…CI/CDè¶…æ—¶

### â±ï¸ æ—¶é—´è§„åˆ’
- **Phase 1**: 8å°æ—¶ (APIæµ‹è¯•)
- **Phase 2**: 6å°æ—¶ (é¢†åŸŸå±‚æµ‹è¯•)
- **Phase 3**: 4å°æ—¶ (æ•°æ®åº“æµ‹è¯•)
- **Phase 4**: 6å°æ—¶ (æœåŠ¡å±‚å’Œå…¶ä»–)
- **æ€»è®¡**: 24å°æ—¶ (çº¦3ä¸ªå·¥ä½œæ—¥)

### ðŸŽ¯ æˆåŠŸæŒ‡æ ‡
- [ ] æ•´ä½“è¦†ç›–çŽ‡ >= 60%
- [ ] æ ¸å¿ƒæ¨¡å—è¦†ç›–çŽ‡ >= 65%
- [ ] CI/CDæµ‹è¯•é€šè¿‡çŽ‡ = 100%
- [ ] æµ‹è¯•æ‰§è¡Œæ—¶é—´ < 10åˆ†é’Ÿ

### ðŸ”— ç›¸å…³Issues
- #1 - ä¿®å¤è¯­æ³•é”™è¯¯ (å¿…é¡»å…ˆå®Œæˆ)
- å…¶ä»–production-ready issues

---
**ä¼˜å…ˆçº§**: P0-Critical
**å¤„ç†æ—¶é™**: 24å°æ—¶å†…
**è´Ÿè´£äºº**: å¾…åˆ†é…
**åˆ›å»ºæ—¶é—´**: 2025-10-30