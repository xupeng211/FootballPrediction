--- a/src/core/di.py+++ b/src/core/di.py@@ -42,7 +42,7 @@     instance: Any | None = None
     dependencies: list[type] | None = None
 
-    def __post_init__(self):
+async def __post_init__(self):
         """函数文档字符串."""
         # 添加pass语句
         if self.dependencies is None:
@@ -55,7 +55,7 @@     pass  # 添加pass语句
     """依赖注入容器"""
 
-    def __init__(self, name: str = "default"):
+async def __init__(self, name: str = "default"):
         """函数文档字符串."""
         # 添加pass语句
         self.name = name
@@ -65,7 +65,7 @@         self._current_scope: str | None = None
         self._building: list[type] = []  # 用于检测循环依赖
 
-    def register_singleton(
+async def register_singleton(
         self,
         interface: type[T],
         implementation: type[T] | None = None,
@@ -81,7 +81,7 @@             factory=factory,
         )
 
-    def register_scoped(
+async def register_scoped(
         self,
         interface: type[T],
         implementation: type[T] | None = None,
@@ -95,7 +95,7 @@             factory=factory,
         )
 
-    def register_transient(
+async def register_transient(
         self,
         interface: type[T],
         implementation: type[T] | None = None,
@@ -109,7 +109,7 @@             factory=factory,
         )
 
-    def _register(
+async def _register(
         self,
         interface: type,
         implementation: type | None = None,
@@ -153,7 +153,7 @@ 
         return self
 
-    def resolve(self, interface: type[T]) -> T:
+async def resolve(self, interface: type[T]) -> T:
         """解析服务."""
         if interface not in self._services:
             raise DependencyInjectionError(
@@ -176,7 +176,7 @@         else:  # TRANSIENT
             return self._create_instance(descriptor)
 
-    def _get_singleton(self, descriptor: ServiceDescriptor) -> Any:
+async def _get_singleton(self, descriptor: ServiceDescriptor) -> Any:
         """获取单例实例."""
         if descriptor.interface in self._singletons:
             return self._singletons[descriptor.interface]
@@ -185,7 +185,7 @@         self._singletons[descriptor.interface] = instance
         return instance
 
-    def _get_scoped(self, descriptor: ServiceDescriptor) -> Any:
+async def _get_scoped(self, descriptor: ServiceDescriptor) -> Any:
         """获取作用域实例."""
         if self._current_scope is None:
             # 如果没有作用域, 当作单例处理
@@ -204,7 +204,7 @@         scope_instances[descriptor.interface] = instance
         return instance
 
-    def _create_instance(self, descriptor: ServiceDescriptor) -> Any:
+async def _create_instance(self, descriptor: ServiceDescriptor) -> Any:
         """创建新实例."""
         # 如果有预注册的实例
         if descriptor.instance is not None:
@@ -231,7 +231,7 @@             f"无法创建实例: {self._get_type_name(descriptor.interface)}"
         )
 
-    def _analyze_dependencies(self, cls: type) -> list[type]:
+async def _analyze_dependencies(self, cls: type) -> list[type]:
         """分析类的依赖."""
         dependencies = []
 
@@ -248,7 +248,7 @@ 
         return dependencies
 
-    def _get_constructor_params(self, cls: type) -> dict[str, Any]:
+async def _get_constructor_params(self, cls: type) -> dict[str, Any]:
         """获取构造函数参数."""
         params = {}
         sig = inspect.signature(cls.__init__)
@@ -312,7 +312,7 @@ 
         return params
 
-    def _get_type_name(self, param_type) -> str:
+async def _get_type_name(self, param_type) -> str:
         """安全地获取类型名称."""
         if hasattr(param_type, "__name__"):
             return param_type.__name__
@@ -323,14 +323,14 @@         else:
             return str(param_type)
 
-    def create_scope(self, scope_name: str | None = None) -> "DIScope":
+async def create_scope(self, scope_name: str | None = None) -> "DIScope":
         """创建新的作用域."""
         if scope_name is None:
             scope_name = f"scope_{datetime.now().timestamp()}"
 
         return DIScope(self, scope_name)
 
-    def clear_scope(self, scope_name: str) -> None:
+async def clear_scope(self, scope_name: str) -> None:
         """清除作用域."""
         if scope_name in self._scoped_instances:
             # 清理作用域内的资源
@@ -346,15 +346,15 @@             del self._scoped_instances[scope_name]
             logger.debug(f"清除作用域: {scope_name}")
 
-    def is_registered(self, interface: type) -> bool:
+async def is_registered(self, interface: type) -> bool:
         """检查服务是否已注册."""
         return interface in self._services
 
-    def get_registered_services(self) -> list[type]:
+async def get_registered_services(self) -> list[type]:
         """获取所有已注册的服务."""
         return list(self._services.keys())
 
-    def clear(self) -> None:
+async def clear(self) -> None:
         """清除所有注册的服务."""
         self._services.clear()
         self._singletons.clear()
@@ -368,14 +368,14 @@     pass  # 添加pass语句
     """依赖注入作用域"""
 
-    def __init__(self, container: DIContainer, scope_name: str):
+async def __init__(self, container: DIContainer, scope_name: str):
         """函数文档字符串."""
         # 添加pass语句
         self.container = container
         self.scope_name = scope_name
         self._old_scope = None
 
-    def __enter__(self):
+async def __enter__(self):
         """函数文档字符串."""
         # 添加pass语句
         self._old_scope = self.container._current_scope
@@ -383,7 +383,7 @@         logger.debug(f"进入作用域: {self.scope_name}")
         return self
 
-    def __exit__(self, exc_type, exc_val, exc_tb):
+async def __exit__(self, exc_type, exc_val, exc_tb):
         """函数文档字符串."""
         # 添加pass语句
         self.container._current_scope = self._old_scope
@@ -397,12 +397,12 @@     pass  # 添加pass语句
     """服务集合,用于批量注册服务"""
 
-    def __init__(self):
+async def __init__(self):
         """函数文档字符串."""
         # 添加pass语句
         self._registrations: list[Callable[[DIContainer], None]] = []
 
-    def add_singleton(
+async def add_singleton(
         self,
         interface: type[T],
         implementation: type[T] | None = None,
@@ -417,7 +417,7 @@         )
         return self
 
-    def add_scoped(
+async def add_scoped(
         self,
         interface: type[T],
         implementation: type[T] | None = None,
@@ -431,7 +431,7 @@         )
         return self
 
-    def add_transient(
+async def add_transient(
         self,
         interface: type[T],
         implementation: type[T] | None = None,
@@ -445,7 +445,7 @@         )
         return self
 
-    def build_container(self, name: str = "default") -> DIContainer:
+async def build_container(self, name: str = "default") -> DIContainer:
         """构建容器."""
         container = DIContainer(name)
 
@@ -459,7 +459,7 @@ _default_container: DIContainer | None = None
 
 
-def get_default_container() -> DIContainer:
+async def get_default_container() -> DIContainer:
     """获取默认容器."""
     global _default_container
     if _default_container is None:
@@ -467,7 +467,7 @@     return _default_container
 
 
-def configure_services(
+async def configure_services(
     configurator: Callable[[ServiceCollection], None],
 ) -> DIContainer:
     """配置服务."""
@@ -482,18 +482,18 @@     return container
 
 
-def resolve(service_type: type[T]) -> T:
+async def resolve(service_type: type[T]) -> T:
     """从默认容器解析服务."""
     return get_default_container().resolve(service_type)
 
 
-def inject(
+async def inject(
     service_type: type[T], container: DIContainer | None = None
 ) -> Callable[[Callable], Callable]:
     """依赖注入装饰器."""
 
-    def decorator(func: Callable) -> Callable:
-        def wrapper(*args, **kwargs):
+async def decorator(func: Callable) -> Callable:
+async def wrapper(*args, **kwargs):
             """函数文档字符串."""
             # 添加pass语句
             if container is None:
