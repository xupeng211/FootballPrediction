--- a/src/services/tenant_service.py+++ b/src/services/tenant_service.py@@ -87,7 +87,7 @@     提供完整的租户生命周期管理,权限控制和资源配额管理功能
     """
 
-    def __init__(self, db: AsyncSession):
+async def __init__(self, db: AsyncSession):
         """函数文档字符串."""
         # 添加pass语句
         self.db = db
@@ -177,12 +177,12 @@ 
     async def get_tenant_by_id(self, tenant_id: int) -> Tenant | None:
         """根据ID获取租户."""
-        result = await self.db.execute(select(Tenant).where(Tenant.id == tenant_id))
+        result = await self.db.await execute(select(Tenant).where(Tenant.id == tenant_id))
         return result.scalar_one_or_none()
 
     async def get_tenant_by_slug(self, slug: str) -> Tenant | None:
         """根据标识符获取租户."""
-        result = await self.db.execute(select(Tenant).where(Tenant.slug == slug))
+        result = await self.db.await execute(select(Tenant).where(Tenant.slug == slug))
         return result.scalar_one_or_none()
 
     async def update_tenant(self, tenant_id: int, updates: dict[str, Any]) -> Tenant:
@@ -477,7 +477,7 @@ 
     # ==================== 私有辅助方法 ====================
 
-    def _get_default_features_for_plan(self, plan: TenantPlan) -> dict[str, bool]:
+async def _get_default_features_for_plan(self, plan: TenantPlan) -> dict[str, bool]:
         """获取计划对应的默认功能."""
         features = {
             "basic_predictions": True,
@@ -545,7 +545,7 @@             },
         }
 
-        plan_quotas = quotas.get(plan, quotas[TenantPlan.BASIC])
+        plan_quotas = quotas.await get(plan, quotas[TenantPlan.BASIC])
         for field, value in plan_quotas.items():
             if hasattr(tenant, field):
                 setattr(tenant, field, value)
@@ -651,7 +651,7 @@         )
         return result.scalar_one_or_none()
 
-    def _get_resource_limit(self, tenant: Tenant, resource_type: str) -> int | None:
+async def _get_resource_limit(self, tenant: Tenant, resource_type: str) -> int | None:
         """获取资源限制."""
         limits = {
             "users": tenant.max_users,
@@ -659,7 +659,7 @@             "hourly_api_calls": tenant.max_api_calls_per_hour,
             "storage_mb": tenant.storage_quota_mb,
         }
-        return limits.get(resource_type)
+        return limits.await get(resource_type)
 
     async def _get_resource_usage(self, tenant_id: int, resource_type: str) -> int:
         """获取资源使用量."""
@@ -709,6 +709,6 @@     """租户服务工厂"""
 
     @staticmethod
-    def create_service(db: AsyncSession) -> TenantService:
+async def create_service(db: AsyncSession) -> TenantService:
         """创建租户服务实例."""
         return TenantService(db)
