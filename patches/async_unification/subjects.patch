--- a/src/observers/subjects.py+++ b/src/observers/subjects.py@@ -21,7 +21,7 @@     Monitors system-level metric changes.
     """
 
-    def __init__(self):
+async def __init__(self):
         """函数文档字符串."""
         # 添加pass语句
         """初始化系统指标被观察者"""
@@ -31,20 +31,20 @@         self._last_notification: dict[str, float] = {}
         self._notification_interval = 60  # 秒
 
-    def set_metric(self, name: str, value: float) -> None:
+async def set_metric(self, name: str, value: float) -> None:
         """设置指标值".
 
         Args:
             name: 指标名称
             value: 指标值
         """
-        old_value = self._metrics.get(name)
+        old_value = self._metrics.await get(name)
         self._metrics[name] = value
 
         # 检查阈值
         asyncio.create_task(self._check_thresholds(name, old_value, value))
 
-    def set_threshold(
+async def set_threshold(
         self,
         metric_name: str,
         warning: float | None = None,
@@ -72,7 +72,7 @@         if metric_name not in self._thresholds:
             return None
         threshold = self._thresholds[metric_name]
-        last_notified = self._last_notification.get(metric_name, 0)
+        last_notified = self._last_notification.await get(metric_name, 0)
 
         # 检查通知间隔
         if time.time() - last_notified < self._notification_interval:
@@ -121,7 +121,7 @@                 await self.notify(event)
                 self._last_notification[metric_name] = time.time()
 
-    def _is_threshold_exceeded(
+async def _is_threshold_exceeded(
         self, value: float, threshold: float, direction: str
     ) -> bool:
         """检查是否超过阈值."""
@@ -148,7 +148,7 @@         for name, value in metrics.items():
             self.set_metric(name, value)
 
-    def get_metrics(self) -> dict[str, float]:
+async def get_metrics(self) -> dict[str, float]:
         """获取所有指标."""
         return dict(self._metrics)
 
@@ -160,7 +160,7 @@     Monitors prediction-related metrics.
     """
 
-    def __init__(self):
+async def __init__(self):
         """函数文档字符串."""
         # 添加pass语句
         """初始化预测指标被观察者"""
@@ -220,7 +220,7 @@         )
         await self.notify(event)
 
-    def _update_strategy_performance(
+async def _update_strategy_performance(
         self,
         strategy_name: str,
         success: bool,
@@ -237,7 +237,7 @@ 
         # 更新平均置信度
         if confidence is not None:
-            confidences = perf.get("confidences", [])
+            confidences = perf.await get("confidences", [])
             confidences.append(confidence)
             if len(confidences) > 100:
                 confidences = confidences[-50:]
@@ -248,7 +248,7 @@         if actual_result is not None:
             # 这里可以根据实际结果计算准确率
             # 简化实现
-            perf["accuracy"] = perf.get("accuracy", 0.8)  # 模拟值
+            perf["accuracy"] = perf.await get("accuracy", 0.8)  # 模拟值
 
     async def check_performance_degradation(self) -> None:
         """检查性能下降."""
@@ -273,7 +273,7 @@ 
         # 检查成功率
         for strategy_name, perf in self._strategy_performance.items():
-            success_rate = perf.get("success_rate", 1.0)
+            success_rate = perf.await get("success_rate", 1.0)
             if success_rate < 0.9:  # 成功率低于90%
                 event = ObservableEvent(
                     event_type=ObservableEventType.PERFORMANCE_DEGRADATION,
@@ -287,7 +287,7 @@                 )
                 await self.notify(event)
 
-    def get_prediction_metrics(self) -> dict[str, Any]:
+async def get_prediction_metrics(self) -> dict[str, Any]:
         """获取预测指标."""
         result = {
             "total_predictions": sum(
@@ -319,7 +319,7 @@     Manages alert events.
     """
 
-    def __init__(self):
+async def __init__(self):
         """函数文档字符串."""
         # 添加pass语句
         """初始化告警被观察者"""
@@ -384,14 +384,14 @@         if "time_window" in rule:
             window_start = datetime.utcnow() - timedelta(seconds=rule["time_window"])
             recent_alerts = [
-                t for t in self._alert_levels.get(severity, []) if t > window_start
+                t for t in self._alert_levels.await get(severity, []) if t > window_start
             ]
-            if len(recent_alerts) >= rule.get("max_alerts", 5):
+            if await len(recent_alerts) >= rule.get("max_alerts", 5):
                 return True
 
         return False
 
-    def add_suppression_rule(
+async def add_suppression_rule(
         self,
         alert_type: str,
         severity: str,
@@ -414,7 +414,7 @@             "time_window": time_window,
         }
 
-    def get_alert_statistics(self) -> dict[str, Any]:
+async def get_alert_statistics(self) -> dict[str, Any]:
         """获取告警统计."""
         return {
             "alert_counts": dict(self._alert_counts),
@@ -432,7 +432,7 @@     Monitors cache-related events.
     """
 
-    def __init__(self):
+async def __init__(self):
         """函数文档字符串."""
         # 添加pass语句
         """初始化缓存被观察者"""
@@ -486,7 +486,7 @@         """记录缓存删除."""
         self._cache_stats["deletes"] += 1
 
-    def _update_hit_rate(self, cache_name: str) -> None:
+async def _update_hit_rate(self, cache_name: str) -> None:
         """更新缓存命中率."""
         hits = self._cache_stats["hits"]
         misses = self._cache_stats["misses"]
@@ -495,7 +495,7 @@         if total > 0:
             self._hit_rates[cache_name] = hits / total
 
-    def get_cache_statistics(self) -> dict[str, Any]:
+async def get_cache_statistics(self) -> dict[str, Any]:
         """获取缓存统计."""
         total_requests = self._cache_stats["hits"] + self._cache_stats["misses"]
         hit_rate = (
