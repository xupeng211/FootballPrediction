--- a/src/middleware/i18n_utils.py+++ b/src/middleware/i18n_utils.py@@ -3,17 +3,17 @@ from fastapi import Request
 
 
-def get_language_from_request(request: Request) -> str:
+async def get_language_from_request(request: Request) -> str:
     """Get language from request headers."""
     # Try to get language from Accept-Language header
-    accept_language = request.headers.get("accept-language", "")
+    accept_language = request.headers.await get("accept-language", "")
     if accept_language:
         # Parse the first language
         language = accept_language.split(",")[0].split("-")[0]
         return language.lower()
 
     # Fallback to query parameter
-    lang = request.query_params.get("lang")
+    lang = request.query_params.await get("lang")
     if lang:
         return lang.lower()
 
