--- a/src/patterns/decorator.py+++ b/src/patterns/decorator.py@@ -19,7 +19,7 @@     """
 
     @abstractmethod
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行操作."""
 
 
@@ -29,7 +29,7 @@     实现基础功能.
     """
 
-    def __init__(self, name: str = "ConcreteComponent"):
+async def __init__(self, name: str = "ConcreteComponent"):
         """初始化具体组件.
 
         Args:
@@ -37,7 +37,7 @@         """
         self.name = name
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行基础操作."""
         return f"{self.name}: 基础操作"
 
@@ -48,7 +48,7 @@     实现装饰器的通用功能.
     """
 
-    def __init__(self, component: Component):
+async def __init__(self, component: Component):
         """初始化装饰器.
 
         Args:
@@ -57,11 +57,11 @@         self._component = component
 
     @property
-    def component(self) -> Component:
+async def component(self) -> Component:
         """获取被装饰的组件."""
         return self._component
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行操作，委托给组件."""
         return self._component.operation()
 
@@ -72,7 +72,7 @@     添加状态并修改操作行为.
     """
 
-    def __init__(self, component: Component, added_state: str = "装饰器A"):
+async def __init__(self, component: Component, added_state: str = "装饰器A"):
         """初始化具体装饰器A.
 
         Args:
@@ -82,7 +82,7 @@         super().__init__(component)
         self.added_state = added_state
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行装饰后的操作."""
         result = super().operation()
         return f"{result} + {self.added_state}"
@@ -94,7 +94,7 @@     添加新的行为.
     """
 
-    def __init__(self, component: Component):
+async def __init__(self, component: Component):
         """初始化具体装饰器B.
 
         Args:
@@ -102,18 +102,18 @@         """
         super().__init__(component)
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行装饰后的操作."""
         result = super().operation()
         return f"{result} + 装饰器B增强"
 
-    def added_behavior(self) -> str:
+async def added_behavior(self) -> str:
         """新增的行为."""
         return "装饰器B的额外功能"
 
 
 # 函数装饰器实现
-def timing_decorator(func: Callable) -> Callable:
+async def timing_decorator(func: Callable) -> Callable:
     """计时装饰器.
 
     测量函数执行时间.
@@ -126,7 +126,7 @@     """
 
     @wraps(func)
-    def wrapper(*args, **kwargs):
+async def wrapper(*args, **kwargs):
         start_time = time.time()
         result = func(*args, **kwargs)
         end_time = time.time()
@@ -137,7 +137,7 @@     return wrapper
 
 
-def logging_decorator(log_level: str = "INFO") -> Callable:
+async def logging_decorator(log_level: str = "INFO") -> Callable:
     """日志装饰器.
 
     记录函数调用信息.
@@ -149,9 +149,9 @@         Callable: 装饰器函数
     """
 
-    def decorator(func: Callable) -> Callable:
+async def decorator(func: Callable) -> Callable:
         @wraps(func)
-        def wrapper(*args, **kwargs):
+async def wrapper(*args, **kwargs):
             try:
                 result = func(*args, **kwargs)
                 return result
@@ -163,7 +163,7 @@     return decorator
 
 
-def cache_decorator(max_size: int = 128) -> Callable:
+async def cache_decorator(max_size: int = 128) -> Callable:
     """缓存装饰器.
 
     缓存函数结果.
@@ -175,11 +175,11 @@         Callable: 装饰器函数
     """
 
-    def decorator(func: Callable) -> Callable:
+async def decorator(func: Callable) -> Callable:
         cache: dict[str, Any] = {}
 
         @wraps(func)
-        def wrapper(*args, **kwargs):
+async def wrapper(*args, **kwargs):
             # 创建缓存键
             cache_key = f"{func.__name__}:{args}:{frozenset(kwargs.items())}"
 
@@ -208,7 +208,7 @@     return decorator
 
 
-def retry_decorator(max_attempts: int = 3, delay: float = 1.0) -> Callable:
+async def retry_decorator(max_attempts: int = 3, delay: float = 1.0) -> Callable:
     """重试装饰器.
 
     在函数失败时自动重试.
@@ -221,9 +221,9 @@         Callable: 装饰器函数
     """
 
-    def decorator(func: Callable) -> Callable:
+async def decorator(func: Callable) -> Callable:
         @wraps(func)
-        def wrapper(*args, **kwargs):
+async def wrapper(*args, **kwargs):
             last_exception = None
 
             for attempt in range(max_attempts):
@@ -232,7 +232,7 @@                 except Exception as e:
                     last_exception = e
                     if attempt < max_attempts - 1:
-                        time.sleep(delay)
+                        await asyncio.sleep(delay)
                     else:
                         pass
 
@@ -249,11 +249,11 @@     管理多个装饰器的应用顺序.
     """
 
-    def __init__(self):
+async def __init__(self):
         """初始化装饰器链."""
         self.decorators: list[Callable] = []
 
-    def add_decorator(self, decorator: Callable) -> "DecoratorChain":
+async def add_decorator(self, decorator: Callable) -> "DecoratorChain":
         """添加装饰器到链中.
 
         Args:
@@ -265,7 +265,7 @@         self.decorators.append(decorator)
         return self
 
-    def apply_to(self, func: Callable) -> Callable:
+async def apply_to(self, func: Callable) -> Callable:
         """将装饰器链应用到函数.
 
         Args:
@@ -279,7 +279,7 @@             result = decorator(result)
         return result
 
-    def clear(self) -> "DecoratorChain":
+async def clear(self) -> "DecoratorChain":
         """清除装饰器链.
 
         Returns:
@@ -288,7 +288,7 @@         self.decorators.clear()
         return self
 
-    def count(self) -> int:
+async def count(self) -> int:
         """获取装饰器数量.
 
         Returns:
@@ -301,14 +301,14 @@ @timing_decorator
 @logging_decorator("DEBUG")
 @cache_decorator(max_size=64)
-def example_function(x: int, y: int) -> int:
+async def example_function(x: int, y: int) -> int:
     """示例函数，用于演示装饰器."""
-    time.sleep(0.1)  # 模拟计算时间
+    await asyncio.sleep(0.1)  # 模拟计算时间
     return x + y
 
 
 @retry_decorator(max_attempts=3, delay=0.5)
-def unstable_function(should_fail: bool = False) -> str:
+async def unstable_function(should_fail: bool = False) -> str:
     """不稳定的函数，用于演示重试装饰器."""
     if should_fail:
         raise ValueError("函数执行失败")
@@ -316,7 +316,7 @@ 
 
 # 便捷函数
-def create_component_chain(
+async def create_component_chain(
     base_component: Component, decorators: list[type]
 ) -> Component:
     """创建组件装饰链.
@@ -334,7 +334,7 @@     return result
 
 
-def demonstrate_decorator_pattern():
+async def demonstrate_decorator_pattern():
     """演示装饰器模式的使用."""
     # 创建基础组件
     component = ConcreteComponent("数据处理组件")
@@ -373,7 +373,7 @@     提供装饰器的基础实现.
     """
 
-    def __init__(self, component: Component):
+async def __init__(self, component: Component):
         """初始化基础装饰器.
 
         Args:
@@ -381,7 +381,7 @@         """
         super().__init__(component)
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行装饰后的操作."""
         return self._component.operation()
 
@@ -392,7 +392,7 @@     为组件添加日志功能.
     """
 
-    def __init__(self, component: Component, log_level: str = "INFO"):
+async def __init__(self, component: Component, log_level: str = "INFO"):
         """初始化日志装饰器.
 
         Args:
@@ -402,7 +402,7 @@         super().__init__(component)
         self.log_level = log_level
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行带日志的操作."""
         result = self._component.operation()
         return result
@@ -414,7 +414,7 @@     为组件添加性能监控功能.
     """
 
-    def __init__(self, component: Component):
+async def __init__(self, component: Component):
         """初始化指标装饰器.
 
         Args:
@@ -424,7 +424,7 @@         self.call_count = 0
         self.total_time = 0.0
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行带指标收集的操作."""
         start_time = time.time()
         self.call_count += 1
@@ -436,7 +436,7 @@ 
         return result
 
-    def get_metrics(self) -> dict[str, Any]:
+async def get_metrics(self) -> dict[str, Any]:
         """获取性能指标."""
         return {
             "call_count": self.call_count,
@@ -453,7 +453,7 @@     为组件添加重试功能.
     """
 
-    def __init__(self, component: Component, max_retries: int = 3, delay: float = 1.0):
+async def __init__(self, component: Component, max_retries: int = 3, delay: float = 1.0):
         """初始化重试装饰器.
 
         Args:
@@ -465,7 +465,7 @@         self.max_retries = max_retries
         self.delay = delay
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行带重试的操作."""
         last_exception = None
 
@@ -478,7 +478,7 @@             except Exception as e:
                 last_exception = e
                 if attempt < self.max_retries:
-                    time.sleep(self.delay)
+                    await asyncio.sleep(self.delay)
                 else:
                     pass
 
@@ -491,7 +491,7 @@     为组件添加输入验证功能.
     """
 
-    def __init__(self, component: Component, validator: Callable | None = None):
+async def __init__(self, component: Component, validator: Callable | None = None):
         """初始化验证装饰器.
 
         Args:
@@ -501,11 +501,11 @@         super().__init__(component)
         self.validator = validator or self._default_validator
 
-    def _default_validator(self, *args, **kwargs):
+async def _default_validator(self, *args, **kwargs):
         """默认验证器."""
         return True
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行带验证的操作."""
         if self.validator():
             result = self._component.operation()
@@ -520,7 +520,7 @@     为组件添加缓存功能.
     """
 
-    def __init__(self, component: Component, cache_size: int = 128):
+async def __init__(self, component: Component, cache_size: int = 128):
         """初始化缓存装饰器.
 
         Args:
@@ -531,7 +531,7 @@         self.cache_size = cache_size
         self._cache = {}
 
-    def operation(self) -> str:
+async def operation(self) -> str:
         """执行带缓存的操作."""
         cache_key = str(id(self._component))
 
@@ -548,11 +548,11 @@         self._cache[cache_key] = result
         return result
 
-    def clear_cache(self):
+async def clear_cache(self):
         """清空缓存."""
         self._cache.clear()
 
-    def get_cache_stats(self) -> dict[str, Any]:
+async def get_cache_stats(self) -> dict[str, Any]:
         """获取缓存统计."""
         return {
             "cache_size": len(self._cache),
@@ -563,10 +563,10 @@ 
 
 # 异步装饰器
-def async_log(log_level: str = "INFO"):
+async def async_log(log_level: str = "INFO"):
     """异步日志装饰器."""
 
-    def decorator(func):
+async def decorator(func):
         @wraps(func)
         async def wrapper(*args, **kwargs):
             try:
@@ -580,7 +580,7 @@     return decorator
 
 
-def async_metrics(func):
+async def async_metrics(func):
     """异步指标装饰器."""
 
     @wraps(func)
@@ -597,10 +597,10 @@     return wrapper
 
 
-def async_retry(max_retries: int = 3, delay: float = 1.0):
+async def async_retry(max_retries: int = 3, delay: float = 1.0):
     """异步重试装饰器."""
 
-    def decorator(func):
+async def decorator(func):
         @wraps(func)
         async def wrapper(*args, **kwargs):
             last_exception = None
@@ -625,7 +625,7 @@     return decorator
 
 
-def create_decorated_service(service_name: str) -> Component:
+async def create_decorated_service(service_name: str) -> Component:
     """创建装饰后的服务.
 
     Args:
