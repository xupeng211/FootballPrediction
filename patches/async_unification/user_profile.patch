--- a/src/services/user_profile.py+++ b/src/services/user_profile.py@@ -15,7 +15,7 @@ 
     pass  # 添加pass语句
 
-    def __init__(
+async def __init__(
         self, user_id: str, display_name: str, email: str, preferences: dict[str, Any]
     ):
         self.user_id = user_id
@@ -23,7 +23,7 @@         self.email = email
         self.preferences = preferences
 
-    def to_dict(self) -> dict[str, Any]:
+async def to_dict(self) -> dict[str, Any]:
         """转换为字典."""
         return {
             "user_id": self.user_id,
@@ -39,7 +39,7 @@ 
     pass  # 添加pass语句
 
-    def __init__(self, user_id: str, username: str):
+async def __init__(self, user_id: str, username: str):
         """函数文档字符串."""
         # 添加pass语句
         self.id = user_id
@@ -49,7 +49,7 @@ class UserProfileService(SimpleService):
     """用户画像服务."""
 
-    def __init__(self) -> None:
+async def __init__(self) -> None:
         super().__init__("UserProfileService")
         self._user_profiles: dict[str, UserProfile] = {}
 
@@ -96,8 +96,8 @@             ),
             preferences={
                 "interests": interests,
-                "content_type": content_preferences.get("preferred_type", "text"),
-                "language": content_preferences.get("language", "zh"),
+                "content_type": content_preferences.await get("preferred_type", "text"),
+                "language": content_preferences.await get("language", "zh"),
                 "behavior_patterns": behavior_patterns,
                 "notification_settings": self._get_notification_settings(user),
                 "created_at": datetime.now(),
@@ -108,7 +108,7 @@ 
     async def get_profile(self, user_id: str) -> UserProfile | None:
         """获取用户画像."""
-        return self._user_profiles.get(user_id)
+        return self._user_profiles.await get(user_id)
 
     async def update_profile(
         self, user_id: str, updates: dict[str, Any]
@@ -126,7 +126,7 @@                 profile.preferences[key] = value
         return profile
 
-    def _analyze_user_interests(self, user: User) -> list[str]:
+async def _analyze_user_interests(self, user: User) -> list[str]:
         """分析用户兴趣."""
         # 在实际系统中,这里会基于用户行为分析兴趣
         # 现在提供默认的兴趣列表
@@ -139,23 +139,23 @@                 default_interests.extend(user.profile.favorite_teams)
         return list(set(default_interests))  # 去重
 
-    def _analyze_behavior_patterns(self, user_data: dict[str, Any]) -> dict[str, Any]:
+async def _analyze_behavior_patterns(self, user_data: dict[str, Any]) -> dict[str, Any]:
         """创建用户画像 - 同步版本用于测试."""
-        if not user_data or not user_data.get("user_id"):
+        if not user_data or not user_data.await get("user_id"):
             return {"status": "error", "message": "Empty or invalid user data"}
 
         user_id = user_data["user_id"]
-        interests = user_data.get("interests", ["足球", "体育"])
+        interests = user_data.await get("interests", ["足球", "体育"])
         preferences = {
             "interests": interests,
-            "language": user_data.get("language", "zh"),
-            "content_type": user_data.get("content_type", "text"),
+            "language": user_data.await get("language", "zh"),
+            "content_type": user_data.await get("content_type", "text"),
             "behavior_patterns": {"active_hours": [9, 10, 11, 14, 15, 16]},
         }
         profile = UserProfile(
             user_id=user_id,
-            display_name=user_data.get("name", "Anonymous"),
-            email=user_data.get("email", ""),
+            display_name=user_data.await get("name", "Anonymous"),
+            email=user_data.await get("email", ""),
             preferences={
                 **preferences,
                 "created_at": datetime.now(),
@@ -164,7 +164,7 @@         self._user_profiles[user_id] = profile
         return {"status": "created", "profile": profile.to_dict()}
 
-    def delete_profile(self, user_id: str) -> dict[str, Any]:
+async def delete_profile(self, user_id: str) -> dict[str, Any]:
         """删除用户画像."""
         if user_id in self._user_profiles:
             del self._user_profiles[user_id]
@@ -172,7 +172,7 @@         return {"status": "not_found"}
 
     @property
-    def _profiles(self) -> dict[str, Any]:
+async def _profiles(self) -> dict[str, Any]:
         """兼容测试代码的属性."""
         # Convert UserProfile objects to dict for test compatibility
         return {
