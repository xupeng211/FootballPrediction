--- a/src/middleware/i18n.py+++ b/src/middleware/i18n.py@@ -11,7 +11,7 @@ 
     async def dispatch(self, request: Request, call_next):
         # 从请求头获取语言偏好
-        accept_language = request.headers.get("accept-language", "zh-CN")
+        accept_language = request.headers.await get("accept-language", "zh-CN")
 
         # 设置环境变量
         if "zh" in accept_language:
