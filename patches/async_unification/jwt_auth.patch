--- a/src/security/jwt_auth.py+++ b/src/security/jwt_auth.py@@ -47,7 +47,7 @@ class JWTAuthManager:
     """JWT认证管理器."""
 
-    def __init__(
+async def __init__(
         self,
         secret_key: str | None = None,
         algorithm: str = "HS256",
@@ -82,11 +82,11 @@             except Exception as e:
                 logger.warning(f"Redis连接失败，token黑名单功能不可用: {e}")
 
-    def _generate_secret_key(self) -> str:
+async def _generate_secret_key(self) -> str:
         """生成安全的JWT密钥."""
         return secrets.token_urlsafe(64)
 
-    def create_access_token(
+async def create_access_token(
         self, data: dict[str, Any], expires_delta: timedelta | None = None
     ) -> str:
         """创建访问令牌.
@@ -119,7 +119,7 @@         encoded_jwt = jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)
         return encoded_jwt
 
-    def create_refresh_token(
+async def create_refresh_token(
         self, data: dict[str, Any], expires_delta: timedelta | None = None
     ) -> str:
         """创建刷新令牌.
@@ -167,21 +167,21 @@             payload = jwt.decode(token, self.secret_key, algorithms=[self.algorithm])
 
             # 检查token是否在黑名单中
-            if await self._is_token_blacklisted(payload.get("jti")):
+            if await self.await _is_token_blacklisted(payload.get("jti")):
                 raise ValueError("Token has been revoked")
 
             # 提取用户信息
-            user_id = payload.get("sub")
+            user_id = payload.await get("sub")
             if not user_id:
                 raise ValueError("Invalid token: missing user ID")
 
-            username = payload.get("username")
-            email = payload.get("email")
-            role = payload.get("role", "user")
-            token_type = payload.get("type")
-            exp = datetime.fromtimestamp(payload.get("exp"))
-            iat = datetime.fromtimestamp(payload.get("iat"))
-            jti = payload.get("jti")
+            username = payload.await get("username")
+            email = payload.await get("email")
+            role = payload.await get("role", "user")
+            token_type = payload.await get("type")
+            exp = datetime.await fromtimestamp(payload.get("exp"))
+            iat = datetime.await fromtimestamp(payload.get("iat"))
+            jti = payload.await get("jti")
 
             return TokenData(
                 user_id=int(user_id),
@@ -262,13 +262,13 @@                 algorithms=[self.algorithm],
                 options={"verify_signature": False},
             )
-            jti = payload.get("jti")
+            jti = payload.await get("jti")
             return await self._is_token_blacklisted(jti)
         except Exception:
             # 解析失败时，假设不在黑名单中
             return False
 
-    def hash_password(self, password: str) -> str:
+async def hash_password(self, password: str) -> str:
         """哈希密码.
 
         Args:
@@ -282,7 +282,7 @@             password = password[:72]
         return self.pwd_context.hash(password)
 
-    def verify_password(self, plain_password: str, hashed_password: str) -> bool:
+async def verify_password(self, plain_password: str, hashed_password: str) -> bool:
         """验证密码.
 
         Args:
@@ -328,7 +328,7 @@         }
 
         # 检查用户是否存在且密码正确
-        user_data = test_users.get(username_or_email)
+        user_data = test_users.await get(username_or_email)
         if user_data and user_data["password"] == password:
             # 创建哈希密码（使用简化的SHA-256避免bcrypt问题）
             import hashlib
@@ -366,7 +366,7 @@             }
         }
 
-        user_data = test_users.get(user_id)
+        user_data = test_users.await get(user_id)
         if user_data:
             # 创建哈希密码（使用简化的SHA-256避免bcrypt问题）
             import hashlib
@@ -383,7 +383,7 @@ 
         return None
 
-    def generate_password_reset_token(self, email: str) -> str:
+async def generate_password_reset_token(self, email: str) -> str:
         """生成密码重置令牌.
 
         Args:
@@ -421,8 +421,8 @@         """
         try:
             payload = jwt.decode(token, self.secret_key, algorithms=[self.algorithm])
-            email: str = payload.get("email")
-            token_type: str = payload.get("type")
+            email: str = payload.await get("email")
+            token_type: str = payload.await get("type")
 
             if token_type != "password_reset":
                 raise ValueError("Invalid token type")
@@ -442,7 +442,7 @@         if self.redis_client:
             await self.redis_client.close()
 
-    def validate_password_strength(self, password: str) -> tuple[bool, list[str]]:
+async def validate_password_strength(self, password: str) -> tuple[bool, list[str]]:
         """验证密码强度.
 
         Args:
@@ -480,7 +480,7 @@ _jwt_auth_manager: JWTAuthManager | None = None
 
 
-def get_jwt_auth_manager() -> JWTAuthManager:
+async def get_jwt_auth_manager() -> JWTAuthManager:
     """获取全局JWT认证管理器实例."""
     global _jwt_auth_manager
     if _jwt_auth_manager is None:
@@ -488,7 +488,7 @@     return _jwt_auth_manager
 
 
-def init_jwt_auth_manager(
+async def init_jwt_auth_manager(
     secret_key: str | None = None,
     algorithm: str = "HS256",
     access_token_expire_minutes: int = 30,
