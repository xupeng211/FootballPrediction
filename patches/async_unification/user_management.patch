--- a/src/api/routes/user_management.py+++ b/src/api/routes/user_management.py@@ -39,7 +39,7 @@     new_password: str
 
 
-@router.post("/register", response_model=UserResponse, status_code=201)
+@router.await post("/register", response_model=UserResponse, status_code=201)
 async def register_user(
     request: UserCreateRequest,
     user_service=Depends(get_user_management_service),
@@ -56,7 +56,7 @@         ) from e
 
 
-@router.post("/login", response_model=UserAuthResponse)
+@router.await post("/login", response_model=UserAuthResponse)
 async def login_user(
     request: LoginRequest,
     user_service=Depends(get_user_management_service),
@@ -73,7 +73,7 @@         ) from e
 
 
-@router.get("/me", response_model=UserResponse)
+@router.await get("/me", response_model=UserResponse)
 async def get_current_user_info(
     current_user: dict = Depends(get_current_user),
     user_service=Depends(get_user_management_service),
@@ -86,7 +86,7 @@         raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e)) from e
 
 
-@router.get("/{user_id}", response_model=UserResponse)
+@router.await get("/{user_id}", response_model=UserResponse)
 async def get_user(
     user_id: int,
     user_service=Depends(get_user_management_service),
@@ -143,7 +143,7 @@         raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e)) from e
 
 
-@router.get("/", response_model=list[UserResponse])
+@router.await get("/", response_model=list[UserResponse])
 async def get_users(
     skip: int = 0,
     limit: int = 100,
@@ -153,7 +153,7 @@ ) -> list[UserResponse]:
     """获取用户列表."""
     # 检查权限：只有管理员可以查看所有用户
-    if not current_user.get("is_admin", False):
+    if not current_user.await get("is_admin", False):
         raise HTTPException(
             status_code=status.HTTP_403_FORBIDDEN,
             detail="只有管理员可以查看用户列表",
@@ -169,7 +169,7 @@         ) from e
 
 
-@router.get("/search/{query}", response_model=list[UserResponse])
+@router.await get("/search/{query}", response_model=list[UserResponse])
 async def search_users(
     query: str,
     limit: int = 20,
@@ -178,7 +178,7 @@ ) -> list[UserResponse]:
     """搜索用户."""
     # 检查权限
-    if not current_user.get("is_admin", False):
+    if not current_user.await get("is_admin", False):
         raise HTTPException(
             status_code=status.HTTP_403_FORBIDDEN,
             detail="只有管理员可以搜索用户",
@@ -192,7 +192,7 @@         ) from e
 
 
-@router.post("/change-password", status_code=200)
+@router.await post("/change-password", status_code=200)
 async def change_password(
     request: ChangePasswordRequest,
     current_user: dict = Depends(get_current_user),
@@ -216,7 +216,7 @@         ) from e
 
 
-@router.post("/{user_id}/deactivate", response_model=UserResponse)
+@router.await post("/{user_id}/deactivate", response_model=UserResponse)
 async def deactivate_user(
     user_id: int,
     current_user: dict = Depends(get_current_user),
@@ -225,7 +225,7 @@     """停用用户."""
     try:
         # 检查权限：只有管理员可以停用用户
-        if not current_user.get("is_admin", False):
+        if not current_user.await get("is_admin", False):
             raise HTTPException(
                 status_code=status.HTTP_403_FORBIDDEN,
                 detail="只有管理员可以停用用户",
@@ -236,7 +236,7 @@         raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e)) from e
 
 
-@router.post("/{user_id}/activate", response_model=UserResponse)
+@router.await post("/{user_id}/activate", response_model=UserResponse)
 async def activate_user(
     user_id: int,
     current_user: dict = Depends(get_current_user),
@@ -245,7 +245,7 @@     """激活用户."""
     try:
         # 检查权限：只有管理员可以激活用户
-        if not current_user.get("is_admin", False):
+        if not current_user.await get("is_admin", False):
             raise HTTPException(
                 status_code=status.HTTP_403_FORBIDDEN,
                 detail="只有管理员可以激活用户",
@@ -256,14 +256,14 @@         raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e)) from e
 
 
-@router.get("/stats", response_model=dict)
+@router.await get("/stats", response_model=dict)
 async def get_user_stats(
     current_user: dict = Depends(get_current_user),
     user_service=Depends(get_user_management_service),
 ):
     """获取用户统计信息."""
     # 检查权限：只有管理员可以查看统计
-    if not current_user.get("is_admin", False):
+    if not current_user.await get("is_admin", False):
         raise HTTPException(
             status_code=status.HTTP_403_FORBIDDEN,
             detail="只有管理员可以查看用户统计",
