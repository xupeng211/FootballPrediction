--- a/src/security/key_manager.py+++ b/src/security/key_manager.py@@ -20,7 +20,7 @@     Key Manager (Stub Implementation)
     """
 
-    def __init__(self, key_file: str | None = None):
+async def __init__(self, key_file: str | None = None):
         """函数文档字符串."""
         # 添加pass语句
         """
@@ -34,7 +34,7 @@         self._keys: dict[str, str] = {}
         self.logger.info("KeyManager initialized (stub implementation)")
 
-    def get_key(self, key_name: str) -> str:
+async def get_key(self, key_name: str) -> str:
         """获取密钥.
 
         Args:
@@ -47,7 +47,7 @@         self.logger.debug(f"Getting key: {key_name}")
         return f"dummy_key_{key_name}"
 
-    def set_key(self, key_name: str, value: str) -> None:
+async def set_key(self, key_name: str, value: str) -> None:
         """设置密钥.
 
         Args:
@@ -57,7 +57,7 @@         self.logger.debug(f"Setting key: {key_name}")
         self._keys[key_name] = value
 
-    def delete_key(self, key_name: str) -> bool:
+async def delete_key(self, key_name: str) -> bool:
         """删除密钥.
 
         Args:
@@ -72,7 +72,7 @@             return True
         return False
 
-    def list_keys(self) -> dict[str, str]:
+async def list_keys(self) -> dict[str, str]:
         """列出所有密钥.
 
         Returns:
@@ -80,7 +80,7 @@         """
         return self._keys.copy()
 
-    def rotate_key(self, key_name: str) -> str:
+async def rotate_key(self, key_name: str) -> str:
         """轮换密钥.
 
         Args:
@@ -94,7 +94,7 @@         self.logger.info(f"Key rotated: {key_name}")
         return new_key
 
-    def encrypt(self, data: str, key_name: str) -> str:
+async def encrypt(self, data: str, key_name: str) -> str:
         """加密数据.
 
         Args:
@@ -110,7 +110,7 @@ 
         return base64.b64encode(data.encode()).decode()
 
-    def decrypt(self, encrypted_data: str, key_name: str) -> str:
+async def decrypt(self, encrypted_data: str, key_name: str) -> str:
         """解密数据.
 
         Args:
@@ -126,7 +126,7 @@ 
         return base64.b64decode(encrypted_data.encode()).decode()
 
-    def validate_key(self, key_name: str) -> bool:
+async def validate_key(self, key_name: str) -> bool:
         """验证密钥是否有效.
 
         Args:
@@ -137,7 +137,7 @@         """
         return key_name in self._keys or key_name.startswith("dummy_")
 
-    def load_keys_from_file(self, file_path: str | None = None) -> None:
+async def load_keys_from_file(self, file_path: str | None = None) -> None:
         """从文件加载密钥.
 
         Args:
@@ -147,7 +147,7 @@         self.logger.info(f"Loading keys from: {file_path}")
         # 桩实现:不实际加载
 
-    def save_keys_to_file(self, file_path: str | None = None) -> None:
+async def save_keys_to_file(self, file_path: str | None = None) -> None:
         """保存密钥到文件.
 
         Args:
@@ -162,7 +162,7 @@ _global_key_manager: KeyManager | None = None
 
 
-def get_key_manager() -> KeyManager:
+async def get_key_manager() -> KeyManager:
     """获取全局密钥管理器实例.
 
     Returns:
@@ -175,21 +175,21 @@ 
 
 # 便捷函数
-def get_key(key_name: str) -> str:
+async def get_key(key_name: str) -> str:
     """获取密钥的便捷函数."""
     return get_key_manager().get_key(key_name)
 
 
-def set_key(key_name: str, value: str) -> None:
+async def set_key(key_name: str, value: str) -> None:
     """设置密钥的便捷函数."""
     get_key_manager().set_key(key_name, value)
 
 
-def encrypt_data(data: str, key_name: str) -> str:
+async def encrypt_data(data: str, key_name: str) -> str:
     """加密数据的便捷函数."""
     return get_key_manager().encrypt(data, key_name)
 
 
-def decrypt_data(encrypted_data: str, key_name: str) -> str:
+async def decrypt_data(encrypted_data: str, key_name: str) -> str:
     """解密数据的便捷函数."""
     return get_key_manager().decrypt(encrypted_data, key_name)
