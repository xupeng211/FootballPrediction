# ğŸ¤ è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹ FootballPrediction é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- ğŸ› Bug æŠ¥å‘Š
- ğŸ’¡ åŠŸèƒ½å»ºè®®
- ğŸ“ æ–‡æ¡£æ”¹è¿›
- ğŸ”§ ä»£ç æäº¤
- ğŸ§ª æµ‹è¯•ç”¨ä¾‹
- ğŸ¨ UI/UX æ”¹è¿›

## å¼€å§‹ä¹‹å‰

åœ¨å¼€å§‹è´¡çŒ®ä¹‹å‰ï¼Œè¯·ï¼š

1. **é˜…è¯»é¡¹ç›®æ–‡æ¡£**
   - [é¡¹ç›® README](README.md)
   - [æ¶æ„æ–‡æ¡£](docs/ARCHITECTURE.md)
   - [éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT.md)

2. **æœç´¢ç°æœ‰ Issue**
   - æŸ¥çœ‹æ˜¯å¦å·²æœ‰ç›¸å…³çš„ [Issue](https://github.com/xupeng211/FootballPrediction/issues)
   - é¿å…é‡å¤æäº¤

3. **äº†è§£é¡¹ç›®è§„èŒƒ**
   - ä»£ç é£æ ¼ï¼ˆä½¿ç”¨ Ruffï¼‰
   - æäº¤ä¿¡æ¯æ ¼å¼ï¼ˆéµå¾ª Conventional Commitsï¼‰
   - åˆ†æ”¯ç®¡ç†ï¼ˆGit Flowï¼‰

## å¼€å‘ç¯å¢ƒæ­å»º

### 1. Fork å¹¶å…‹éš†é¡¹ç›®

```bash
# Fork é¡¹ç›®åˆ°æ‚¨çš„ GitHub è´¦æˆ·
# ç„¶åå…‹éš†æ‚¨çš„ fork

git clone https://github.com/YOUR_USERNAME/FootballPrediction.git
cd FootballPrediction

# æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/xupeng211/FootballPrediction.git
```

### 2. è®¾ç½®å¼€å‘ç¯å¢ƒ

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Linux/macOS
# æˆ– .venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
make install

# å®‰è£… pre-commit hooks
pre-commit install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡
# æ³¨æ„ï¼šå¯ä»¥ä½¿ç”¨æµ‹è¯•å€¼è¿›è¡Œå¼€å‘
```

## å¼€å‘æµç¨‹

### 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯

```bash
# ç¡®ä¿ä¸»åˆ†æ”¯æ˜¯æœ€æ–°çš„
git checkout main
git pull upstream main

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b fix/issue-number-description
```

### 2. è¿›è¡Œå¼€å‘

- éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

```bash
# è¿è¡Œæµ‹è¯•
make test

# è¿è¡Œ linting
make lint

# æ£€æŸ¥ç±»å‹
make type-check
```

### 3. æäº¤ä»£ç 

éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

ç±»å‹è¯´æ˜ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

ç¤ºä¾‹ï¼š
```
feat(api): add batch prediction endpoint

Add support for predicting multiple matches in a single request.
This improves performance when processing large numbers of matches.

Closes #123
```

### 4. æ¨é€å¹¶åˆ›å»º PR

```bash
# æ¨é€åˆ°æ‚¨çš„ fork
git push origin feature/your-feature-name

# åˆ›å»º Pull Request
# è®¿é—® GitHub é¡µé¢åˆ›å»º PR
```

## Pull Request æŒ‡å—

### PR æ ‡é¢˜æ ¼å¼

ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜ï¼ŒåŒ…å«ç›¸å…³çš„ Issue ç¼–å·ï¼š

```
[PR] Add feature description (#123)
```

### PR æè¿°æ¨¡æ¿

```markdown
## ğŸ“ æè¿°
ç®€è¦æè¿°è¿™ä¸ª PR çš„ç›®çš„å’Œæ‰€åšçš„æ›´æ”¹ã€‚

## ğŸ”— ç›¸å…³ Issue
Closes #(issue number)

## ğŸ“‹ æ›´æ”¹ç±»å‹
- [ ] Bug ä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] é‡æ„
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å…¶ä»–ï¼š____

## âœ… æ£€æŸ¥æ¸…å•
- [ ] ä»£ç éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
- [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] æ²¡æœ‰åˆå¹¶å†²çª
- [ ] é€šè¿‡äº† CI æ£€æŸ¥

## ğŸ“¸ æˆªå›¾ï¼ˆå¦‚é€‚ç”¨ï¼‰
å¦‚æœæ‚¨çš„æ›´æ”¹æ¶‰åŠ UI æ›´æ”¹ï¼Œè¯·æ·»åŠ æˆªå›¾ã€‚

## ğŸ§ª æµ‹è¯•æ­¥éª¤
æè¿°å¦‚ä½•æµ‹è¯•æ‚¨çš„æ›´æ”¹ï¼š
1. æ­¥éª¤ä¸€
2. æ­¥éª¤äºŒ
3. é¢„æœŸç»“æœ

## ğŸ’¬ å…¶ä»–ä¿¡æ¯
ä»»ä½•å®¡æŸ¥è€…éœ€è¦çŸ¥é“çš„ä¿¡æ¯ã€‚
```

## ä»£ç è§„èŒƒ

### Python ä»£ç é£æ ¼

é¡¹ç›®ä½¿ç”¨ **Ruff** è¿›è¡Œä»£ç æ ¼å¼åŒ–å’Œ lintingï¼š

```bash
# è‡ªåŠ¨ä¿®å¤
ruff check --fix .

# æ ¼å¼åŒ–
ruff format .
```

ä¸»è¦è§„èŒƒï¼š
- æœ€å¤§è¡Œé•¿åº¦ï¼š88 å­—ç¬¦
- ä½¿ç”¨åŒå¼•å·
- ä½¿ç”¨ç±»å‹æ³¨è§£
- éµå¾ª PEP 8

### å‘½åè§„èŒƒ

- **å˜é‡/å‡½æ•°**ï¼šsnake_case
- **ç±»**ï¼šPascalCase
- **å¸¸é‡**ï¼šUPPER_SNAKE_CASE
- **ç§æœ‰æˆå‘˜**ï¼šå‰ç¼€ä¸‹åˆ’çº¿ `_`

### æ–‡æ¡£å­—ç¬¦ä¸²

ä½¿ç”¨ Google é£æ ¼çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼š

```python
def calculate_prediction_confidence(predictions: List[Prediction]) -> float:
    """è®¡ç®—é¢„æµ‹çš„ç½®ä¿¡åº¦ã€‚

    Args:
        predictions: é¢„æµ‹ç»“æœåˆ—è¡¨

    Returns:
        ç½®ä¿¡åº¦åˆ†æ•°ï¼ŒèŒƒå›´ 0-1

    Raises:
        ValueError: å½“é¢„æµ‹åˆ—è¡¨ä¸ºç©ºæ—¶
    """
    pass
```

## æµ‹è¯•æŒ‡å—

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/unit/test_predictions.py

# è¿è¡Œå¸¦è¦†ç›–ç‡çš„æµ‹è¯•
pytest --cov=src --cov-report=html

# è¿è¡Œç‰¹å®šæ ‡è®°çš„æµ‹è¯•
pytest -m "not slow"  # è·³è¿‡æ…¢é€Ÿæµ‹è¯•
```

### ç¼–å†™æµ‹è¯•

- ä½¿ç”¨ pytest æ¡†æ¶
- ä½¿ç”¨ fixture ç®¡ç†æµ‹è¯•æ•°æ®
- Mock å¤–éƒ¨ä¾èµ–
- æµ‹è¯•è¾¹ç•Œæ¡ä»¶å’Œé”™è¯¯æƒ…å†µ

```python
import pytest
from unittest.mock import Mock, patch

class TestPredictionService:
    def test_predict_match_success(self):
        """æµ‹è¯•æˆåŠŸé¢„æµ‹æ¯”èµ›"""
        # Given
        service = PredictionService()
        match_id = "test_match_123"

        # When
        result = service.predict_match(match_id)

        # Then
        assert result is not None
        assert result.prediction in ["home_win", "draw", "away_win"]
        assert 0 <= result.confidence <= 1
```

## ğŸ“š æ–‡æ¡£è§„èŒƒ

ä¸ºä¿æŒæ–‡æ¡£è´¨é‡ï¼Œè¯·éµå¾ªä»¥ä¸‹è§„èŒƒï¼š

1. **å¿…é¡»é€šè¿‡ Docs Guard æ£€æŸ¥**
   - æœ¬åœ°æ‰§è¡Œï¼š
     ```bash
     make docs.check
     ```

2. **æ–‡æ¡£ç›®å½•ç»“æ„**
   - åªå…è®¸ä»¥ä¸‹é¡¶å±‚ç›®å½•ï¼š
     `architecture/`, `how-to/`, `reference/`, `testing/`, `data/`, `ml/`, `ops/`, `release/`, `staging/`, `legacy/`, `_reports/`, `_meta/`
   - å…¶ä»–ç›®å½•ä¼šè¢«è‡ªåŠ¨æ‹’ç»ã€‚

3. **å­¤å„¿æ–‡æ¡£å¤„ç†**
   - æ‰€æœ‰æ–°æ–‡æ¡£å¿…é¡»æ·»åŠ åˆ° `INDEX.md` æˆ–åœ¨ç°æœ‰æ–‡æ¡£ä¸­æœ‰å¼•ç”¨ã€‚

4. **åé“¾é˜²æŠ¤**
   - å¤–éƒ¨é“¾æ¥å¯ç”¨ `http(s)`ã€‚
   - å†…éƒ¨ç›¸å¯¹é“¾æ¥å¿…é¡»æŒ‡å‘å®é™…å­˜åœ¨æ–‡ä»¶ã€‚

5. **å½’æ¡£ç­–ç•¥**
   - è¿‡æ—¶æˆ–å†å²æ–‡æ¡£è¯·æ”¾å…¥ `legacy/`ã€‚

## æŠ¥å‘Š Bug

ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿æŠ¥å‘Š Bugï¼š

```
**Bug æè¿°**
ç®€è¦æè¿°é‡åˆ°çš„é—®é¢˜ã€‚

**å¤ç°æ­¥éª¤**
1. æ‰§è¡Œå‘½ä»¤ '...'
2. ç‚¹å‡» '....'
3. æ»šåŠ¨åˆ° '....'
4. çœ‹åˆ°é”™è¯¯

**é¢„æœŸè¡Œä¸º**
æè¿°æ‚¨æœŸæœ›å‘ç”Ÿçš„æƒ…å†µã€‚

**å®é™…è¡Œä¸º**
æè¿°å®é™…å‘ç”Ÿçš„æƒ…å†µã€‚

**ç¯å¢ƒä¿¡æ¯**
- OS: [e.g. Ubuntu 20.04]
- Python ç‰ˆæœ¬: [e.g. 3.11.9]
- é¡¹ç›®ç‰ˆæœ¬: [e.g. v1.2.0]

**é™„åŠ ä¿¡æ¯**
æ·»åŠ ä»»ä½•å…¶ä»–æœ‰åŠ©äºè§£å†³é—®é¢˜çš„ä¿¡æ¯ã€‚
```

## æå‡ºåŠŸèƒ½å»ºè®®

ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿æå‡ºæ–°åŠŸèƒ½ï¼š

```
**åŠŸèƒ½æè¿°**
ç®€è¦æè¿°æ‚¨å¸Œæœ›æ·»åŠ çš„åŠŸèƒ½ã€‚

**é—®é¢˜èƒŒæ™¯**
æè¿°è¿™ä¸ªåŠŸèƒ½è¦è§£å†³çš„é—®é¢˜ã€‚

**è§£å†³æ–¹æ¡ˆ**
æè¿°æ‚¨è®¾æƒ³çš„å®ç°æ–¹æ¡ˆã€‚

**æ›¿ä»£æ–¹æ¡ˆ**
æè¿°æ‚¨è€ƒè™‘è¿‡çš„å…¶ä»–æ–¹æ¡ˆã€‚

**é™„åŠ ä¿¡æ¯**
æ·»åŠ ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯æˆ–æˆªå›¾ã€‚
```

## å‘å¸ƒæµç¨‹

é¡¹ç›®ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰ï¼š

- **ä¸»ç‰ˆæœ¬å·**ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
- **æ¬¡ç‰ˆæœ¬å·**ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **ä¿®è®¢å·**ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

å‘å¸ƒæ­¥éª¤ï¼š
1. æ›´æ–°ç‰ˆæœ¬å·
2. æ›´æ–° CHANGELOG.md
3. åˆ›å»º Git æ ‡ç­¾
4. æ„å»ºå’Œå‘å¸ƒ

## è·å¾—å¸®åŠ©

å¦‚æœæ‚¨éœ€è¦å¸®åŠ©ï¼š

1. æŸ¥çœ‹ [æ–‡æ¡£](docs/)
2. æœç´¢ [Issues](https://github.com/xupeng211/FootballPrediction/issues)
3. åˆ›å»ºæ–°çš„ Issue
4. åœ¨è®¨è®ºåŒºæé—®

## è¡Œä¸ºå‡†åˆ™

è¯·å°Šé‡æ‰€æœ‰é¡¹ç›®å‚ä¸è€…ï¼Œä¿æŒå‹å–„å’Œä¸“ä¸šã€‚æˆ‘ä»¬ä¸å®¹å¿ï¼š

- éªšæ‰°æˆ–æ­§è§†è¡Œä¸º
- äººèº«æ”»å‡»
- æ¶æ„ç ´å
- ä¾µçŠ¯éšç§

è¿è§„è€…å°†è¢«è­¦å‘Šï¼Œä¸¥é‡è€…å°†è¢«ç¦æ­¢å‚ä¸é¡¹ç›®ã€‚

## è´¡çŒ®è€…è®¤å¯

æ‰€æœ‰è´¡çŒ®è€…éƒ½ä¼šåœ¨ README.md ä¸­è¢«è®¤å¯ã€‚æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼

## è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†åœ¨ [MIT License](LICENSE) ä¸‹å‘å¸ƒã€‚

---

å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ‰
