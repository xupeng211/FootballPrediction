# ğŸ¤ Contributing Guidelines

æ¬¢è¿ä¸º **è¶³çƒé¢„æµ‹ç³»ç»Ÿ** åšå‡ºè´¡çŒ®ï¼æˆ‘ä»¬æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„ç”Ÿäº§å°±ç»ªé¡¹ç›®ï¼Œéµå¾ªç°ä»£è½¯ä»¶å¼€å‘æœ€ä½³å®è·µã€‚

## ğŸ“‹ ç›®å½•

- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸŒŸ å¼€å‘æµç¨‹](#-å¼€å‘æµç¨‹)
- [ğŸ“ ä»£ç è§„èŒƒ](#-ä»£ç è§„èŒƒ)
- [ğŸ§ª æµ‹è¯•æŒ‡å—](#-æµ‹è¯•æŒ‡å—)
- [ğŸ”„ Gitå·¥ä½œæµ](#-gitå·¥ä½œæµ)
- [ğŸ“‹ Pull Requestè§„èŒƒ](#-pull-requestè§„èŒƒ)
- [ğŸ·ï¸ Issueç®¡ç†](#ï¸-issueç®¡ç†)
- [ğŸ“š æ–‡æ¡£è´¡çŒ®](#-æ–‡æ¡£è´¡çŒ®)
- [ğŸ¤– AIè¾…åŠ©å¼€å‘](#-aiè¾…åŠ©å¼€å‘)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/xupeng211/FootballPrediction.git
cd FootballPrediction

# åŠ è½½é¡¹ç›®ä¸Šä¸‹æ–‡ (â­ å¿…åš)
make context

# éªŒè¯ç¯å¢ƒ
make env-check

# å®‰è£…ä¾èµ–
make install
```

### 2. é¦–æ¬¡å¼€å‘

```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name

# è¿›è¡Œå¼€å‘...
# ä½¿ç”¨æ™ºèƒ½è´¨é‡ä¿®å¤å·¥å…·
python3 scripts/smart_quality_fixer.py

# è¿è¡Œæµ‹è¯•
make test.unit

# æäº¤ä»£ç 
git add .
git commit -m "feat: add your feature description"
```

## ğŸŒŸ å¼€å‘æµç¨‹

### æ ‡å‡†å¼€å‘å·¥ä½œæµ

```bash
# 1. åŒæ­¥æœ€æ–°ä»£ç 
git checkout main
git pull origin main

# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/feature-name

# 3. å¼€å‘ç¯å¢ƒæ£€æŸ¥
make env-check
make context

# 4. å¼€å‘è¿‡ç¨‹
# ä½¿ç”¨æ™ºèƒ½å·¥å…·ä¿æŒä»£ç è´¨é‡
python3 scripts/smart_quality_fixer.py

# 5. æäº¤å‰éªŒè¯
make prepush

# 6. æ¨é€åˆ†æ”¯å¹¶åˆ›å»ºPR
git push origin feature/feature-name
```

### å¼€å‘å·¥å…·æ¨è

- **IDEé…ç½®**: å‚è€ƒ `PYCHARM_SETUP.md`
- **ä»£ç æ ¼å¼åŒ–**: `ruff format src/ tests/`
- **ä»£ç æ£€æŸ¥**: `ruff check src/ tests/`
- **æ™ºèƒ½ä¿®å¤**: `python3 scripts/smart_quality_fixer.py`

## ğŸ“ ä»£ç è§„èŒƒ

### Pythonä»£ç é£æ ¼

æˆ‘ä»¬ä½¿ç”¨ **Ruff** ä½œä¸ºä»£ç é£æ ¼æ£€æŸ¥å’Œæ ¼å¼åŒ–å·¥å…·ï¼š

```bash
# ä»£ç æ ¼å¼åŒ–
ruff format src/ tests/

# ä»£ç æ£€æŸ¥
ruff check src/ tests/
```

#### å…³é”®è§„èŒƒ

- **è¡Œé•¿åº¦**: 88å­—ç¬¦
- **å¯¼å…¥é¡ºåº**: æ ‡å‡†åº“ã€ç¬¬ä¸‰æ–¹åº“ã€æœ¬åœ°å¯¼å…¥
- **ç±»å‹æ³¨è§£**: æ‰€æœ‰å…¬å…±å‡½æ•°å¿…é¡»æœ‰ç±»å‹æ³¨è§£
- **æ–‡æ¡£å­—ç¬¦ä¸²**: æ‰€æœ‰æ¨¡å—ã€ç±»ã€å…¬å…±å‡½æ•°å¿…é¡»æœ‰docstring

### æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼ï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

#### ç±»å‹è¯´æ˜

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£å˜æ›´
- `style`: ä»£ç æ ¼å¼å˜æ›´
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

#### ç¤ºä¾‹

```bash
git commit -m "feat(api): add football data collection endpoint"
git commit -m "fix(decorator): resolve f-string formatting issues"
git commit -m "docs: update CLAUDE.md with new development guidelines"
```

## ğŸ§ª æµ‹è¯•æŒ‡å—

### æµ‹è¯•ç»“æ„

é¡¹ç›®ä½¿ç”¨ **19ç§æ ‡å‡†åŒ–æµ‹è¯•æ ‡è®°**ï¼š

```bash
# å•å…ƒæµ‹è¯• (85%)
pytest -m "unit"

# é›†æˆæµ‹è¯• (12%)
pytest -m "integration"

# APIæµ‹è¯•
pytest -m "api"

# å…³é”®åŠŸèƒ½æµ‹è¯•
pytest -m "critical"

# æ€§èƒ½æµ‹è¯•
pytest -m "performance"
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test

# è¿è¡Œå•å…ƒæµ‹è¯•
make test.unit

# è¿è¡Œé›†æˆæµ‹è¯•
make test.int

# æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š
make coverage

# å¿«é€Ÿåé¦ˆæµ‹è¯•
pytest -m "not slow" --maxfail=3
```

### æµ‹è¯•ç¼–å†™åŸåˆ™

1. **æµ‹è¯•ç‹¬ç«‹æ€§**: æ¯ä¸ªæµ‹è¯•åº”è¯¥ç‹¬ç«‹è¿è¡Œ
2. **æè¿°æ€§å‘½å**: æµ‹è¯•åç§°åº”è¯¥æ¸…æ¥šæè¿°æµ‹è¯•å†…å®¹
3. **AAAæ¨¡å¼**: Arrange, Act, Assert
4. **æ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–**: ä½¿ç”¨mocké¿å…çœŸå®ç½‘ç»œè°ƒç”¨

## ğŸ”„ Gitå·¥ä½œæµ

### åˆ†æ”¯ç­–ç•¥

æˆ‘ä»¬ä½¿ç”¨ **Git Flow** ç®€åŒ–ç‰ˆï¼š

```
main          â† ç”Ÿäº§å°±ç»ªä»£ç 
â”œâ”€â”€ develop    â† å¼€å‘é›†æˆåˆ†æ”¯
â”œâ”€â”€ feature/*  â† åŠŸèƒ½å¼€å‘åˆ†æ”¯
â”œâ”€â”€ hotfix/*   â† ç´§æ€¥ä¿®å¤åˆ†æ”¯
â””â”€â”€ release/*  â† å‘å¸ƒå‡†å¤‡åˆ†æ”¯
```

### åˆ†æ”¯å‘½åè§„èŒƒ

- `feature/feature-name`: æ–°åŠŸèƒ½å¼€å‘
- `fix/issue-description`: bugä¿®å¤
- `docs/documentation-update`: æ–‡æ¡£æ›´æ–°
- `refactor/component-name`: é‡æ„

### åˆå¹¶ç­–ç•¥

- **feature â†’ develop**: squash merge
- **develop â†’ main**: create merge commit
- **hotfix â†’ main**: ç›´æ¥åˆå¹¶

## ğŸ“‹ Pull Requestè§„èŒƒ

### PRæ¨¡æ¿

ä½¿ç”¨æˆ‘ä»¬çš„PRæ¨¡æ¿ç¡®ä¿ä¿¡æ¯å®Œæ•´ï¼š

```markdown
## ğŸ“ å˜æ›´æè¿°
ç®€è¦æè¿°è¿™ä¸ªPRçš„ç›®çš„å’Œå†…å®¹

## ğŸ”„ å˜æ›´ç±»å‹
- [ ] æ–°åŠŸèƒ½ (feature)
- [ ] ä¿®å¤ (fix)
- [ ] æ–‡æ¡£ (docs)
- [ ] æ ·å¼ (style)
- [ ] é‡æ„ (refactor)
- [ ] æµ‹è¯• (test)
- [ ] æ„å»º (build)

## âœ… æ£€æŸ¥æ¸…å•
- [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•
- [ ] æµ‹è¯•é€šè¿‡ (`make test`)
- [ ] ä»£ç æ£€æŸ¥é€šè¿‡ (`ruff check`)
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] ç¡®è®¤æ²¡æœ‰ç ´åæ€§å˜æ›´

## ğŸ”— ç›¸å…³Issue
Closes #(issue number)

## ğŸ“¸ æˆªå›¾ (å¦‚é€‚ç”¨)
æ·»åŠ æˆªå›¾è¯´æ˜å˜æ›´æ•ˆæœ

## ğŸ§ª æµ‹è¯•è¯´æ˜
æè¿°å¦‚ä½•æµ‹è¯•è¿™äº›å˜æ›´
```

### PRå®¡æŸ¥æµç¨‹

1. **è‡ªæ£€**: æäº¤PRå‰è¿è¡Œ `make prepush`
2. **è‡ªåŠ¨æ£€æŸ¥**: CIä¼šè‡ªåŠ¨è¿è¡Œè´¨é‡æ£€æŸ¥å’Œæµ‹è¯•
3. **ä»£ç å®¡æŸ¥**: è‡³å°‘éœ€è¦ä¸€äººå®¡æŸ¥
4. **åˆå¹¶**: å®¡æŸ¥é€šè¿‡ååˆå¹¶åˆ°ç›®æ ‡åˆ†æ”¯

### å®¡æŸ¥è¦ç‚¹

- **åŠŸèƒ½æ€§**: ä»£ç æ˜¯å¦å®ç°äº†é¢„æœŸåŠŸèƒ½
- **å¯è¯»æ€§**: ä»£ç æ˜¯å¦æ¸…æ™°æ˜“æ‡‚
- **æµ‹è¯•**: æ˜¯å¦æœ‰è¶³å¤Ÿçš„æµ‹è¯•è¦†ç›–
- **æ€§èƒ½**: æ˜¯å¦æœ‰æ€§èƒ½å½±å“
- **å®‰å…¨æ€§**: æ˜¯å¦æœ‰å®‰å…¨è€ƒè™‘

## ğŸ·ï¸ Issueç®¡ç†

### Issueç±»å‹

- **Bug**: ğŸ› è½¯ä»¶ç¼ºé™·
- **Feature**: âœ¨ æ–°åŠŸèƒ½è¯·æ±‚
- **Enhancement**: ğŸš€ åŠŸèƒ½æ”¹è¿›
- **Documentation**: ğŸ“š æ–‡æ¡£ç›¸å…³
- **Performance**: âš¡ æ€§èƒ½ä¼˜åŒ–
- **Security**: ğŸ”’ å®‰å…¨é—®é¢˜

### Issueæ¨¡æ¿

ä½¿ç”¨æ ‡å‡†åŒ–çš„Issueæ¨¡æ¿ï¼š

```markdown
## ğŸ› Bugæè¿°
æ¸…æ™°æè¿°é‡åˆ°çš„é—®é¢˜

## ğŸ”„ é‡ç°æ­¥éª¤
1. æ‰§è¡Œæ“ä½œA
2. ç‚¹å‡»æŒ‰é’®B
3. è§‚å¯Ÿåˆ°é”™è¯¯C

## ğŸ¯ æœŸæœ›è¡Œä¸º
æè¿°æœŸæœ›çš„æ­£ç¡®è¡Œä¸º

## ğŸ“± ç¯å¢ƒä¿¡æ¯
- OS: [e.g. Ubuntu 22.04]
- Python: [e.g. 3.11]
- æµè§ˆå™¨: [e.g. Chrome 120]

## ğŸ“¸ é™„åŠ ä¿¡æ¯
æˆªå›¾ã€æ—¥å¿—ç­‰
```

### ä¼˜å…ˆçº§æ ‡ç­¾

- `priority-critical`: é˜»å¡æ€§é—®é¢˜ï¼Œéœ€è¦ç«‹å³å¤„ç†
- `priority-high`: é‡è¦é—®é¢˜ï¼Œå°½å¿«å¤„ç†
- `priority-medium`: ä¸€èˆ¬é—®é¢˜ï¼Œæ­£å¸¸æ’æœŸ
- `priority-low`: æ¬¡è¦é—®é¢˜ï¼Œæœ‰æ—¶é—´å†å¤„ç†

## ğŸ“š æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç±»å‹

- **APIæ–‡æ¡£**: æ¥å£è¯´æ˜å’Œä½¿ç”¨ç¤ºä¾‹
- **æ¶æ„æ–‡æ¡£**: ç³»ç»Ÿè®¾è®¡å’ŒæŠ€æœ¯å†³ç­–
- **ç”¨æˆ·æŒ‡å—**: ä½¿ç”¨è¯´æ˜å’Œæœ€ä½³å®è·µ
- **å¼€å‘æ–‡æ¡£**: å¼€å‘ç¯å¢ƒæ­å»ºå’Œæµç¨‹

### æ–‡æ¡£è§„èŒƒ

1. **ä½¿ç”¨Markdown**: æ‰€æœ‰æ–‡æ¡£ä½¿ç”¨Markdownæ ¼å¼
2. **ç»“æ„æ¸…æ™°**: ä½¿ç”¨åˆé€‚çš„æ ‡é¢˜å±‚çº§
3. **ä»£ç ç¤ºä¾‹**: æä¾›å®Œæ•´çš„ä»£ç ç¤ºä¾‹
4. **é“¾æ¥æ£€æŸ¥**: ç¡®ä¿æ‰€æœ‰é“¾æ¥æœ‰æ•ˆ

### æ–‡æ¡£ç›®å½•

```
docs/
â”œâ”€â”€ api/           # APIæ–‡æ¡£
â”œâ”€â”€ architecture/  # æ¶æ„è®¾è®¡
â”œâ”€â”€ guides/        # ç”¨æˆ·æŒ‡å—
â”œâ”€â”€ development/   # å¼€å‘æ–‡æ¡£
â””â”€â”€ deployment/    # éƒ¨ç½²æ–‡æ¡£
```

## ğŸ¤– AIè¾…åŠ©å¼€å‘

### æ™ºèƒ½å·¥å…·ä½¿ç”¨

é¡¹ç›®æä¾›600+ä¸ªæ™ºèƒ½åŒ–è„šæœ¬ï¼š

```bash
# ğŸ¯ é¦–é€‰å·¥å…· (è§£å†³80%é—®é¢˜)
python3 scripts/smart_quality_fixer.py      # æ™ºèƒ½è´¨é‡ä¿®å¤
python3 scripts/quality_guardian.py --check-only  # å…¨é¢è´¨é‡æ£€æŸ¥
python3 scripts/fix_test_crisis.py         # æµ‹è¯•å±æœºä¿®å¤

# ğŸ”§ é«˜çº§å·¥å…·
python3 scripts/continuous_improvement_engine.py    # æŒç»­æ”¹è¿›å¼•æ“
python3 scripts/precise_error_fixer.py             # ç²¾ç¡®é”™è¯¯ä¿®å¤
```

### AIå·¥ä½œæµ

1. **å¼€å§‹å¼€å‘**: `make context`
2. **æ™ºèƒ½ä¿®å¤**: `python3 scripts/smart_quality_fixer.py`
3. **è´¨é‡æ£€æŸ¥**: `python3 scripts/quality_guardian.py --check-only`
4. **æµ‹è¯•éªŒè¯**: `make test.unit`
5. **æäº¤å‰éªŒè¯**: `make prepush`

## ğŸ†˜ è·å–å¸®åŠ©

### å¸¸è§é—®é¢˜

**Q: æµ‹è¯•è¿è¡Œå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
```bash
# ä½¿ç”¨æµ‹è¯•å±æœºä¿®å¤å·¥å…·
python3 scripts/fix_test_crisis.py
```

**Q: ä»£ç è´¨é‡æ£€æŸ¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
```bash
# ä½¿ç”¨æ™ºèƒ½è´¨é‡ä¿®å¤
python3 scripts/smart_quality_fixer.py
```

**Q: ä¾èµ–é—®é¢˜æ€ä¹ˆåŠï¼Ÿ**
```bash
# é‡æ–°å®‰è£…ä¾èµ–
make clean-env && make install
```

### è”ç³»æ–¹å¼

- **GitHub Issues**: æŠ¥å‘Šbugå’ŒåŠŸèƒ½è¯·æ±‚
- **GitHub Discussions**: æŠ€æœ¯è®¨è®ºå’Œé—®ç­”
- **ä»£ç å®¡æŸ¥**: é€šè¿‡PRè¿›è¡Œä»£ç å®¡æŸ¥

## ğŸ“Š è´¡çŒ®ç»Ÿè®¡

æˆ‘ä»¬ä¼šå®šæœŸç»Ÿè®¡è´¡çŒ®ï¼š

- **ä»£ç è´¡çŒ®**: commits, lines added/removed
- **Issueè´¡çŒ®**: opened, closed issues
- **PRè´¡çŒ®**: opened, merged PRs
- **æ–‡æ¡£è´¡çŒ®**: documentation improvements

## ğŸ‰ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼ä½ çš„å‚ä¸è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚

---

**Happy Coding! ğŸš€**

*æœ€åæ›´æ–°: 2025-10-31*
*ç‰ˆæœ¬: v2.0 (ä¼ä¸šçº§åä½œæŒ‡å—)*