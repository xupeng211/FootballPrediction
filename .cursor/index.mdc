# AICultureKit 核心开发规则

## 🎯 项目原则
- **工具优先**：禁止绕过Makefile直接运行任何脚本或命令
- **质量第一**：所有代码变更必须通过`make ci`检查
- **文档驱动**：重要决策必须有文档记录
- **模块化优先**：优先复用已有函数/模块，避免重复造轮子

## 🔧 标准开发工作流
1. **环境检查**：`make env-check`
2. **加载上下文**：`make context` (⭐ 最重要)
3. **选择适当的make命令**：根据任务选择合适工具
4. **提交前检查**：`make prepush` 进行完整检查

## 📁 项目结构规范
- **源代码**：必须放在`src/`目录
- **测试代码**：必须放在`tests/`目录
- **文档**：放在`docs/`目录
- **AI规则**：放在`.cursor/rules/`目录

## ✅ 代码质量标准
- **测试覆盖率**: >= 80%
- **代码风格**: 使用black格式化
- **类型注解**: 使用typing进行类型注解
- **异常处理**: 必须处理异常和边界情况
- **日志记录**: 写结构化日志便于排查错误

## 🚫 严禁事项
- 绕过Makefile直接运行脚本
- 跳过pre-commit检查或CI流程
- 修改代码不写单元测试
- 随意创建新文件（除非任务明确要求）
- 使用`any`类型，避免类型安全问题

## 📝 提交规范
- 遵循conventional commits格式
- 每次生成代码前加载项目上下文
- 必须包含详细中文注释
- commit message要清晰描述变更内容
