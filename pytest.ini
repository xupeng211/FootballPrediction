[pytest]
testpaths = tests
addopts = -q --maxfail=1 --cov=src --cov-report=term-missing:skip-covered -p no:xdist
markers =
    unit: 单元测试
    integration: 集成测试
    e2e: 端到端测试
    slow: 慢测试
    performance: 性能测试
    example: 示例测试
    docker: 需要Docker服务的测试
    asyncio: 异步测试
    timeout: 超时测试
    edge_case: 边界情况测试
    failure_scenario: 失败场景测试
    mlflow: MLflow相关测试
    db: 数据库相关测试
    kafka: Kafka相关测试
    celery: Celery相关测试
    ml: 机器学习相关测试
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
python_files = test_*.py
python_classes = Test*
python_functions = test_*
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore:.*pytest.mark.asyncio.*:pytest.PytestUnknownMarkWarning
    ignore::RuntimeWarning:tests.*
    error::UserWarning
    ignore:.*Number.*field should not be instantiated.*
minversion = 7.0
